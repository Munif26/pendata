
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Pengenalan Clustering dan K-Means &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'algoritma_k-means_clustering';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="ğŸ“ UTS Penambangan Data - Klasifikasi Prediksi Survival Pasien Sirosis" href="proyek_ujiantengahsemester.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to Penambangan Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data_understanding.html"><strong>Data Understanding</strong></a></li>






<li class="toctree-l1"><a class="reference internal" href="outlier_detection.html"><strong>Outliers Detection Menggunakan Metode K-Nearest Neighbors (KNN)</strong></a></li>






<li class="toctree-l1"><a class="reference internal" href="local_outlier_factor_%28lof%29.html"><strong>Local Outlier Factor (LOF)</strong></a></li>







<li class="toctree-l1"><a class="reference internal" href="klasifikasi_naive_bayes.html"><strong>Klasifikasi Naive Bayes</strong></a></li>






<li class="toctree-l1"><a class="reference internal" href="proyek_ujiantengahsemester.html"><strong>ğŸ“ UTS Penambangan Data - Klasifikasi Prediksi Survival Pasien Sirosis</strong></a></li>



<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>Pengenalan Clustering dan K-Means</strong></a></li>




</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Falgoritma_k-means_clustering.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/algoritma_k-means_clustering.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Pengenalan Clustering dan K-Means</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Pengenalan Clustering dan K-Means</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-clustering"><strong>Apa Itu Clusteringâ€¦?</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#algoritma-k-means"><strong>Algoritma K-Means</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-kualitas-clustering"><strong>Evaluasi Kualitas Clustering</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-algoritma-k-means-menggunakan-python"><strong>Implementasi Algoritma K-Means Menggunakan Python</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-library-yang-dibutuhkan"><strong>1. Install Library yang dibutuhkan</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-database-dari-dbever"><strong>2. Mengambil Database dari DBever</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghilangkan-species-labelnya"><strong>3. Menghilangkan species / labelnya</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#melakukan-visualisasi"><strong>4. Melakukan Visualisasi</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-k-means-dengan-k-dari-2-sampai-4-beserta-visualisasi-nya"><strong>5. Menghitung k means dengan k dari 2 sampai 4, beserta visualisasi nya</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-nilai-inertia-dan-siluet-score-dari-setiap-k-dari-2-sampai-4"><strong>6. Menghitung nilai inertia dan siluet score dari setiap k dari 2 sampai 4</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-dari-score-siluet"><strong>7. Visualisasi dari score siluet</strong></a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="pengenalan-clustering-dan-k-means">
<h1><strong>Pengenalan Clustering dan K-Means</strong><a class="headerlink" href="#pengenalan-clustering-dan-k-means" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="apa-itu-clustering">
<h1><strong>Apa Itu Clusteringâ€¦?</strong><a class="headerlink" href="#apa-itu-clustering" title="Link to this heading">#</a></h1>
<p>Clustering adalah salah satu metode dalam unsupervised learning yang bertujuan untuk mengelompokkan sekumpulan data berdasarkan kemiripan karakteristik antar data. Dalam clustering, tidak ada label atau target output yang digunakan â€” proses ini bersifat eksploratif, membantu kita memahami struktur atau pola tersembunyi dalam data.</p>
<p>Tujuan Clustering
Menemukan pola tersembunyi di data.</p>
<p>Mengelompokkan data berdasarkan kemiripan.</p>
<p>Membantu dalam pengambilan keputusan atau pemodelan lebih lanjut.</p>
<p>Clustering sangat bermanfaat dalam tahap eksplorasi data karena dapat memberikan gambaran tentang berapa banyak kelompok alami yang ada dalam dataset. Idealnya, data dalam satu klaster memiliki variansi internal yang kecil (homogen), sementara variansi antar klaster harus besar (heterogen).</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="algoritma-k-means">
<h1><strong>Algoritma K-Means</strong><a class="headerlink" href="#algoritma-k-means" title="Link to this heading">#</a></h1>
<p>K-Means adalah algoritma clustering berbasis centroid yang bekerja dengan cara mempartisi data ke dalam sejumlah klaster yang telah ditentukan sebelumnya (disebut k). Setiap klaster direpresentasikan oleh satu titik pusat yang disebut centroid. Tujuan dari algoritma ini adalah untuk meminimalkan jarak rata-rata antar data dengan centroid klasternya masing-masing.</p>
<p>Cara Kerja K-Means
Berikut adalah langkah-langkah dari algoritma K-Means:</p>
<ol class="arabic simple">
<li><p>Menentukan jumlah klaster k: Langkah awal adalah menetapkan berapa banyak kelompok (klaster) yang ingin dibentuk dari data.</p></li>
<li><p>Inisialisasi centroid: Sebanyak k centroid awal dipilih secara acak dari data.</p></li>
<li><p>Pengelompokan data:</p></li>
</ol>
<ul class="simple">
<li><p>Hitung jarak antara setiap data ke semua centroid menggunakan metrik seperti Euclidean Distance.</p></li>
<li><p>Setiap data akan dimasukkan ke klaster dengan centroid terdekat.</p></li>
</ul>
<ol class="arabic simple" start="4">
<li><p>Perbarui posisi centroid:</p></li>
</ol>
<ul class="simple">
<li><p>Hitung rata-rata dari semua data dalam tiap klaster, dan tetapkan hasilnya sebagai centroid baru.</p></li>
</ul>
<ol class="arabic simple" start="5">
<li><p>Iterasi:</p></li>
</ol>
<ul class="simple">
<li><p>Ulangi proses pengelompokan dan pembaruan centroid hingga data tidak berpindah klaster lagi atau centroid tidak berubah (konvergen).</p></li>
</ul>
<p>Catatan Penting :</p>
<ul class="simple">
<li><p>K-Means sensitif terhadap outlier. Kehadiran data ekstrem bisa sangat mempengaruhi posisi centroid.</p></li>
<li><p>K-Means bekerja optimal jika data memiliki bentuk klaster bulat/simetris dan berukuran seragam.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="evaluasi-kualitas-clustering">
<h1><strong>Evaluasi Kualitas Clustering</strong><a class="headerlink" href="#evaluasi-kualitas-clustering" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Sum of Squared Error (SSE)
SSE mengukur jumlah kuadrat jarak antara data dengan centroid klasternya. Nilai SSE yang kecil menandakan bahwa data dalam klaster saling berdekatan (kompak).</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
SSE = \sum_{i=1}^{k} \sum_{x \in C_i} ||x - \mu_i||^2
\]</div>
<p>Keterangan:</p>
<p>ğ¶
ğ‘–
C
i
â€‹
: Klaster ke-i</p>
<p>ğœ‡
ğ‘–
Î¼
i
â€‹
: Centroid dari klaster ke-i</p>
<p>âˆ£
âˆ£
ğ‘¥
âˆ’
ğœ‡
ğ‘–
âˆ£
âˆ£
2
âˆ£âˆ£xâˆ’Î¼
i
â€‹
âˆ£âˆ£
2
: Jarak Euclidean kuadrat antara data
ğ‘¥
x dengan centroid
ğœ‡
ğ‘–
Î¼
i
â€‹</p>
<ol class="arabic simple" start="2">
<li><p>Silhouette Score
Silhouette Score menunjukkan seberapa baik suatu data cocok dalam klasternya. Nilainya berkisar antara -1 hingga 1.</p></li>
</ol>
<div class="math notranslate nohighlight">
\[
S = \frac{b - a}{\max(a, b)}
\]</div>
<p>Keterangan:</p>
<p>ğ‘
a: Rata-rata jarak antara data dan seluruh anggota klasternya (intra-cluster distance)</p>
<p>ğ‘
b: Rata-rata jarak antara data dan anggota klaster terdekat lainnya (nearest-cluster distance)</p>
<p>ğ‘†
S: Nilai silhouette</p>
<p>Interpretasi nilai:</p>
<p>ğ‘†
â‰ˆ
1
Sâ‰ˆ1: Data sangat cocok dengan klasternya</p>
<p>ğ‘†
â‰ˆ
0
Sâ‰ˆ0: Data berada di antara dua klaster</p>
<p>ğ‘†
&lt;
0
S&lt;0: Data mungkin salah klaster</p>
<p>Kesimpulan :</p>
<ul class="simple">
<li><p>Evaluasi menggunakan SSE dan Silhouette Score penting untuk menilai kualitas klastering.</p></li>
<li><p>Untuk menentukan jumlah klaster yang optimal, gunakan:</p></li>
<li><p>Metode Elbow â†’ analisis grafik SSE</p></li>
<li><p>Analisis Silhouette â†’ cari nilai rata-rata silhouette tertinggi</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="implementasi-algoritma-k-means-menggunakan-python">
<h1><strong>Implementasi Algoritma K-Means Menggunakan Python</strong><a class="headerlink" href="#implementasi-algoritma-k-means-menggunakan-python" title="Link to this heading">#</a></h1>
<section id="install-library-yang-dibutuhkan">
<h2><strong>1. Install Library yang dibutuhkan</strong><a class="headerlink" href="#install-library-yang-dibutuhkan" title="Link to this heading">#</a></h2>
<p>Tujuan dari kode ini adalah untuk menginstal berbagai library yang diperlukan untuk menghubungkan Python dengan database, melakukan manipulasi data, serta membangun dan menerapkan modelnya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Install Library yang dibutuhkan</span>

<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>psycopg2-binary
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>pandas
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>SQLAlchemy<span class="w"> </span>pymysql
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>scikit-learn
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>numpy
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting pymysql
  Downloading PyMySQL-1.1.1-py3-none-any.whl.metadata (4.4 kB)
Downloading PyMySQL-1.1.1-py3-none-any.whl (44 kB)
?25l   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.0/45.0 kB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">45.0/45.0 kB</span> <span class=" -Color -Color-Red">3.4 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: pymysql
Successfully installed pymysql-1.1.1
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting psycopg2-binary
  Downloading psycopg2_binary-2.9.10-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Downloading psycopg2_binary-2.9.10-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (3.0 MB)
?25l   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">0.0/3.0 MB</span> <span class=" -Color -Color-Red">?</span> eta <span class=" -Color -Color-Cyan">-:--:--</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¸ <span class=" -Color -Color-Green">3.0/3.0 MB</span> <span class=" -Color -Color-Red">110.8 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:01</span>
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” <span class=" -Color -Color-Green">3.0/3.0 MB</span> <span class=" -Color -Color-Red">62.9 MB/s</span> eta <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Installing collected packages: psycopg2-binary
Successfully installed psycopg2-binary-2.9.10
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in /usr/local/lib/python3.11/dist-packages (2.2.2)
Requirement already satisfied: numpy&gt;=1.23.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.0.2)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.11/dist-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.11/dist-packages (from pandas) (2025.2)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.11/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: SQLAlchemy in /usr/local/lib/python3.11/dist-packages (2.0.40)
Requirement already satisfied: pymysql in /usr/local/lib/python3.11/dist-packages (1.1.1)
Requirement already satisfied: greenlet&gt;=1 in /usr/local/lib/python3.11/dist-packages (from SQLAlchemy) (3.2.1)
Requirement already satisfied: typing-extensions&gt;=4.6.0 in /usr/local/lib/python3.11/dist-packages (from SQLAlchemy) (4.13.2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: scikit-learn in /usr/local/lib/python3.11/dist-packages (1.6.1)
Requirement already satisfied: numpy&gt;=1.19.5 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (2.0.2)
Requirement already satisfied: scipy&gt;=1.6.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (1.15.3)
Requirement already satisfied: joblib&gt;=1.2.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (1.5.0)
Requirement already satisfied: threadpoolctl&gt;=3.1.0 in /usr/local/lib/python3.11/dist-packages (from scikit-learn) (3.6.0)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: numpy in /usr/local/lib/python3.11/dist-packages (2.0.2)
</pre></div>
</div>
</div>
</div>
</section>
<section id="mengambil-database-dari-dbever">
<h2><strong>2. Mengambil Database dari DBever</strong><a class="headerlink" href="#mengambil-database-dari-dbever" title="Link to this heading">#</a></h2>
<p>Kode ini bertujuan untuk menghubungkan Python ke database MySQL menggunakan library <code class="docutils literal notranslate"><span class="pre">pymysql</span></code>, mengambil data dari tabel <code class="docutils literal notranslate"><span class="pre">irissql</span></code> di database tersebut, mengubah data yang diambil menjadi format DataFrame menggunakan <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, kemudian menampilkan data dalam bentuk tabel yang rapi, serta memastikan koneksi ke database ditutup dengan benar setelah proses selesai atau jika terjadi error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Langkah Selanjutnya adalah mengambil Database dari dbever</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pymysql</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tabulate</span><span class="w"> </span><span class="kn">import</span> <span class="n">tabulate</span>

<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Membuat koneksi ke MySQL</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">MYSQL_HOST</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">MYSQL_PORT</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">MYSQL_USER</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">MYSQL_PASS</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">MYSQL_DB</span><span class="p">,</span>
        <span class="n">ssl</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}},</span>  <span class="c1"># Aiven.io membutuhkan koneksi SSL</span>
    <span class="p">)</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Menjalankan query (Ganti &#39;your_table&#39; dengan nama tabel yang benar)</span>
    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM defaultdb.irissql;&quot;</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="c1"># Mengambil nama kolom</span>
    <span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cur</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>

    <span class="c1"># Menampilkan hasil dalam bentuk tabel</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;psql&quot;</span><span class="p">))</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># Menutup koneksi</span>
    <span class="k">if</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">cur</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>+-----+------+-----------------+----------------+-----------------+----------------+-----------------+
|     |   id |   SepalLengthCm |   SepalWidthCm |   PetalLengthCm |   PetalWidthCm | species         |
|-----+------+-----------------+----------------+-----------------+----------------+-----------------|
|   0 |    1 |             5.1 |            3.5 |             1.4 |            0.2 | Iris-setosa     |
|   1 |    2 |             4.9 |            3   |             1.4 |            0.2 | Iris-setosa     |
|   2 |    3 |             4.7 |            3.2 |             1.3 |            0.2 | Iris-setosa     |
|   3 |    4 |             4.6 |            3.1 |             1.5 |            0.2 | Iris-setosa     |
|   4 |    5 |             5   |            3.6 |             1.4 |            0.2 | Iris-setosa     |
|   5 |    6 |             5.4 |            3.9 |             1.7 |            0.4 | Iris-setosa     |
|   6 |    7 |             4.6 |            3.4 |             1.4 |            0.3 | Iris-setosa     |
|   7 |    8 |             5   |            3.4 |             1.5 |            0.2 | Iris-setosa     |
|   8 |    9 |             4.4 |            2.9 |             1.4 |            0.2 | Iris-setosa     |
|   9 |   10 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  10 |   11 |             5.4 |            3.7 |             1.5 |            0.2 | Iris-setosa     |
|  11 |   12 |             4.8 |            3.4 |             1.6 |            0.2 | Iris-setosa     |
|  12 |   13 |             4.8 |            3   |             1.4 |            0.1 | Iris-setosa     |
|  13 |   14 |             4.3 |            3   |             1.1 |            0.1 | Iris-setosa     |
|  14 |   15 |             5.8 |            4   |             1.2 |            0.2 | Iris-setosa     |
|  15 |   16 |             5.7 |            4.4 |             1.5 |            0.4 | Iris-setosa     |
|  16 |   17 |             5.4 |            3.9 |             1.3 |            0.4 | Iris-setosa     |
|  17 |   18 |             5.1 |            3.5 |             1.4 |            0.3 | Iris-setosa     |
|  18 |   19 |             5.7 |            3.8 |             1.7 |            0.3 | Iris-setosa     |
|  19 |   20 |             5.1 |            3.8 |             1.5 |            0.3 | Iris-setosa     |
|  20 |   21 |             5.4 |            3.4 |             1.7 |            0.2 | Iris-setosa     |
|  21 |   22 |             5.1 |            3.7 |             1.5 |            0.4 | Iris-setosa     |
|  22 |   23 |             4.6 |            3.6 |             1   |            0.2 | Iris-setosa     |
|  23 |   24 |             5.1 |            3.3 |             1.7 |            0.5 | Iris-setosa     |
|  24 |   25 |             4.8 |            3.4 |             1.9 |            0.2 | Iris-setosa     |
|  25 |   26 |             5   |            3   |             1.6 |            0.2 | Iris-setosa     |
|  26 |   27 |             5   |            3.4 |             1.6 |            0.4 | Iris-setosa     |
|  27 |   28 |             5.2 |            3.5 |             1.5 |            0.2 | Iris-setosa     |
|  28 |   29 |             5.2 |            3.4 |             1.4 |            0.2 | Iris-setosa     |
|  29 |   30 |             4.7 |            3.2 |             1.6 |            0.2 | Iris-setosa     |
|  30 |   31 |             4.8 |            3.1 |             1.6 |            0.2 | Iris-setosa     |
|  31 |   32 |             5.4 |            3.4 |             1.5 |            0.4 | Iris-setosa     |
|  32 |   33 |             5.2 |            4.1 |             1.5 |            0.1 | Iris-setosa     |
|  33 |   34 |             5.5 |            4.2 |             1.4 |            0.2 | Iris-setosa     |
|  34 |   35 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  35 |   36 |             5   |            3.2 |             1.2 |            0.2 | Iris-setosa     |
|  36 |   37 |             5.5 |            3.5 |             1.3 |            0.2 | Iris-setosa     |
|  37 |   38 |             4.9 |            3.1 |             1.5 |            0.1 | Iris-setosa     |
|  38 |   39 |             4.4 |            3   |             1.3 |            0.2 | Iris-setosa     |
|  39 |   40 |             5.1 |            3.4 |             1.5 |            0.2 | Iris-setosa     |
|  40 |   41 |             5   |            3.5 |             1.3 |            0.3 | Iris-setosa     |
|  41 |   42 |             4.5 |            2.3 |             1.3 |            0.3 | Iris-setosa     |
|  42 |   43 |             4.4 |            3.2 |             1.3 |            0.2 | Iris-setosa     |
|  43 |   44 |             5   |            3.5 |             1.6 |            0.6 | Iris-setosa     |
|  44 |   45 |             5.1 |            3.8 |             1.9 |            0.4 | Iris-setosa     |
|  45 |   46 |             4.8 |            3   |             1.4 |            0.3 | Iris-setosa     |
|  46 |   47 |             5.1 |            3.8 |             1.6 |            0.2 | Iris-setosa     |
|  47 |   48 |             4.6 |            3.2 |             1.4 |            0.2 | Iris-setosa     |
|  48 |   49 |             5.3 |            3.7 |             1.5 |            0.2 | Iris-setosa     |
|  49 |   50 |             5   |            3.3 |             1.4 |            0.2 | Iris-setosa     |
|  50 |   51 |             7   |            3.2 |             4.7 |            1.4 | Iris-versicolor |
|  51 |   52 |             6.4 |            3.2 |             4.5 |            1.5 | Iris-versicolor |
|  52 |   53 |             6.9 |            3.1 |             4.9 |            1.5 | Iris-versicolor |
|  53 |   54 |             5.5 |            2.3 |             4   |            1.3 | Iris-versicolor |
|  54 |   55 |             6.5 |            2.8 |             4.6 |            1.5 | Iris-versicolor |
|  55 |   56 |             5.7 |            2.8 |             4.5 |            1.3 | Iris-versicolor |
|  56 |   57 |             6.3 |            3.3 |             4.7 |            1.6 | Iris-versicolor |
|  57 |   58 |             4.9 |            2.4 |             3.3 |            1   | Iris-versicolor |
|  58 |   59 |             6.6 |            2.9 |             4.6 |            1.3 | Iris-versicolor |
|  59 |   60 |             5.2 |            2.7 |             3.9 |            1.4 | Iris-versicolor |
|  60 |   61 |             5   |            2   |             3.5 |            1   | Iris-versicolor |
|  61 |   62 |             5.9 |            3   |             4.2 |            1.5 | Iris-versicolor |
|  62 |   63 |             6   |            2.2 |             4   |            1   | Iris-versicolor |
|  63 |   64 |             6.1 |            2.9 |             4.7 |            1.4 | Iris-versicolor |
|  64 |   65 |             5.6 |            2.9 |             3.6 |            1.3 | Iris-versicolor |
|  65 |   66 |             6.7 |            3.1 |             4.4 |            1.4 | Iris-versicolor |
|  66 |   67 |             5.6 |            3   |             4.5 |            1.5 | Iris-versicolor |
|  67 |   68 |             5.8 |            2.7 |             4.1 |            1   | Iris-versicolor |
|  68 |   69 |             6.2 |            2.2 |             4.5 |            1.5 | Iris-versicolor |
|  69 |   70 |             5.6 |            2.5 |             3.9 |            1.1 | Iris-versicolor |
|  70 |   71 |             5.9 |            3.2 |             4.8 |            1.8 | Iris-versicolor |
|  71 |   72 |             6.1 |            2.8 |             4   |            1.3 | Iris-versicolor |
|  72 |   73 |             6.3 |            2.5 |             4.9 |            1.5 | Iris-versicolor |
|  73 |   74 |             6.1 |            2.8 |             4.7 |            1.2 | Iris-versicolor |
|  74 |   75 |             6.4 |            2.9 |             4.3 |            1.3 | Iris-versicolor |
|  75 |   76 |             6.6 |            3   |             4.4 |            1.4 | Iris-versicolor |
|  76 |   77 |             6.8 |            2.8 |             4.8 |            1.4 | Iris-versicolor |
|  77 |   78 |             6.7 |            3   |             5   |            1.7 | Iris-versicolor |
|  78 |   79 |             6   |            2.9 |             4.5 |            1.5 | Iris-versicolor |
|  79 |   80 |             5.7 |            2.6 |             3.5 |            1   | Iris-versicolor |
|  80 |   81 |             5.5 |            2.4 |             3.8 |            1.1 | Iris-versicolor |
|  81 |   82 |             5.5 |            2.4 |             3.7 |            1   | Iris-versicolor |
|  82 |   83 |             5.8 |            2.7 |             3.9 |            1.2 | Iris-versicolor |
|  83 |   84 |             6   |            2.7 |             5.1 |            1.6 | Iris-versicolor |
|  84 |   85 |             5.4 |            3   |             4.5 |            1.5 | Iris-versicolor |
|  85 |   86 |             6   |            3.4 |             4.5 |            1.6 | Iris-versicolor |
|  86 |   87 |             6.7 |            3.1 |             4.7 |            1.5 | Iris-versicolor |
|  87 |   88 |             6.3 |            2.3 |             4.4 |            1.3 | Iris-versicolor |
|  88 |   89 |             5.6 |            3   |             4.1 |            1.3 | Iris-versicolor |
|  89 |   90 |             5.5 |            2.5 |             4   |            1.3 | Iris-versicolor |
|  90 |   91 |             5.5 |            2.6 |             4.4 |            1.2 | Iris-versicolor |
|  91 |   92 |             6.1 |            3   |             4.6 |            1.4 | Iris-versicolor |
|  92 |   93 |             5.8 |            2.6 |             4   |            1.2 | Iris-versicolor |
|  93 |   94 |             5   |            2.3 |             3.3 |            1   | Iris-versicolor |
|  94 |   95 |             5.6 |            2.7 |             4.2 |            1.3 | Iris-versicolor |
|  95 |   96 |             5.7 |            3   |             4.2 |            1.2 | Iris-versicolor |
|  96 |   97 |             5.7 |            2.9 |             4.2 |            1.3 | Iris-versicolor |
|  97 |   98 |             6.2 |            2.9 |             4.3 |            1.3 | Iris-versicolor |
|  98 |   99 |             5.1 |            2.5 |             3   |            1.1 | Iris-versicolor |
|  99 |  100 |             5.7 |            2.8 |             4.1 |            1.3 | Iris-versicolor |
| 100 |  101 |             6.3 |            3.3 |             6   |            2.5 | Iris-virginica  |
| 101 |  102 |             5.8 |            2.7 |             5.1 |            1.9 | Iris-virginica  |
| 102 |  103 |             7.1 |            3   |             5.9 |            2.1 | Iris-virginica  |
| 103 |  104 |             6.3 |            2.9 |             5.6 |            1.8 | Iris-virginica  |
| 104 |  105 |             6.5 |            3   |             5.8 |            2.2 | Iris-virginica  |
| 105 |  106 |             7.6 |            3   |             6.6 |            2.1 | Iris-virginica  |
| 106 |  107 |             4.9 |            2.5 |             4.5 |            1.7 | Iris-virginica  |
| 107 |  108 |             7.3 |            2.9 |             6.3 |            1.8 | Iris-virginica  |
| 108 |  109 |             6.7 |            2.5 |             5.8 |            1.8 | Iris-virginica  |
| 109 |  110 |             7.2 |            3.6 |             6.1 |            2.5 | Iris-virginica  |
| 110 |  111 |             6.5 |            3.2 |             5.1 |            2   | Iris-virginica  |
| 111 |  112 |             6.4 |            2.7 |             5.3 |            1.9 | Iris-virginica  |
| 112 |  113 |             6.8 |            3   |             5.5 |            2.1 | Iris-virginica  |
| 113 |  114 |             5.7 |            2.5 |             5   |            2   | Iris-virginica  |
| 114 |  115 |             5.8 |            2.8 |             5.1 |            2.4 | Iris-virginica  |
| 115 |  116 |             6.4 |            3.2 |             5.3 |            2.3 | Iris-virginica  |
| 116 |  117 |             6.5 |            3   |             5.5 |            1.8 | Iris-virginica  |
| 117 |  118 |             7.7 |            3.8 |             6.7 |            2.2 | Iris-virginica  |
| 118 |  119 |             7.7 |            2.6 |             6.9 |            2.3 | Iris-virginica  |
| 119 |  120 |             6   |            2.2 |             5   |            1.5 | Iris-virginica  |
| 120 |  121 |             6.9 |            3.2 |             5.7 |            2.3 | Iris-virginica  |
| 121 |  122 |             5.6 |            2.8 |             4.9 |            2   | Iris-virginica  |
| 122 |  123 |             7.7 |            2.8 |             6.7 |            2   | Iris-virginica  |
| 123 |  124 |             6.3 |            2.7 |             4.9 |            1.8 | Iris-virginica  |
| 124 |  125 |             6.7 |            3.3 |             5.7 |            2.1 | Iris-virginica  |
| 125 |  126 |             7.2 |            3.2 |             6   |            1.8 | Iris-virginica  |
| 126 |  127 |             6.2 |            2.8 |             4.8 |            1.8 | Iris-virginica  |
| 127 |  128 |             6.1 |            3   |             4.9 |            1.8 | Iris-virginica  |
| 128 |  129 |             6.4 |            2.8 |             5.6 |            2.1 | Iris-virginica  |
| 129 |  130 |             7.2 |            3   |             5.8 |            1.6 | Iris-virginica  |
| 130 |  131 |             7.4 |            2.8 |             6.1 |            1.9 | Iris-virginica  |
| 131 |  132 |             7.9 |            3.8 |             6.4 |            2   | Iris-virginica  |
| 132 |  133 |             6.4 |            2.8 |             5.6 |            2.2 | Iris-virginica  |
| 133 |  134 |             6.3 |            2.8 |             5.1 |            1.5 | Iris-virginica  |
| 134 |  135 |             6.1 |            2.6 |             5.6 |            1.4 | Iris-virginica  |
| 135 |  136 |             7.7 |            3   |             6.1 |            2.3 | Iris-virginica  |
| 136 |  137 |             6.3 |            3.4 |             5.6 |            2.4 | Iris-virginica  |
| 137 |  138 |             6.4 |            3.1 |             5.5 |            1.8 | Iris-virginica  |
| 138 |  139 |             6   |            3   |             4.8 |            1.8 | Iris-virginica  |
| 139 |  140 |             6.9 |            3.1 |             5.4 |            2.1 | Iris-virginica  |
| 140 |  141 |             6.7 |            3.1 |             5.6 |            2.4 | Iris-virginica  |
| 141 |  142 |             6.9 |            3.1 |             5.1 |            2.3 | Iris-virginica  |
| 142 |  143 |             5.8 |            2.7 |             5.1 |            1.9 | Iris-virginica  |
| 143 |  144 |             6.8 |            3.2 |             5.9 |            2.3 | Iris-virginica  |
| 144 |  145 |             6.7 |            3.3 |             5.7 |            2.5 | Iris-virginica  |
| 145 |  146 |             6.7 |            3   |             5.2 |            2.3 | Iris-virginica  |
| 146 |  147 |             6.3 |            2.5 |             5   |            1.9 | Iris-virginica  |
| 147 |  148 |             6.5 |            3   |             5.2 |            2   | Iris-virginica  |
| 148 |  149 |             6.2 |            3.4 |             5.4 |            2.3 | Iris-virginica  |
| 149 |  150 |             5.9 |            3   |             5.1 |            1.8 | Iris-virginica  |
+-----+------+-----------------+----------------+-----------------+----------------+-----------------+
</pre></div>
</div>
</div>
</div>
</section>
<section id="menghilangkan-species-labelnya">
<h2><strong>3. Menghilangkan species / labelnya</strong><a class="headerlink" href="#menghilangkan-species-labelnya" title="Link to this heading">#</a></h2>
<p>Kode ini bertujuan untuk mengambil data dari database MySQL, namun hanya kolom fitur (seperti <code class="docutils literal notranslate"><span class="pre">sepalLengthCm</span></code>, <code class="docutils literal notranslate"><span class="pre">sepalWidthCm</span></code>, <code class="docutils literal notranslate"><span class="pre">petalLengthCm</span></code>, dan <code class="docutils literal notranslate"><span class="pre">petalWidthCm</span></code>) tanpa kolom label atau kelas (<code class="docutils literal notranslate"><span class="pre">species</span></code>). Prosesnya dimulai dengan membuat koneksi ke database menggunakan <code class="docutils literal notranslate"><span class="pre">pymysql</span></code>, kemudian menjalankan query untuk mengambil data hanya dari kolom-kolom fitur tersebut. Data yang diambil lalu diubah menjadi format DataFrame dengan <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, dan dikonversi menjadi array NumPy untuk keperluan analisis selanjutnya, seperti clustering. Terakhir, data tanpa kolom label ini ditampilkan dalam bentuk tabel yang rapi menggunakan <code class="docutils literal notranslate"><span class="pre">tabulate</span></code>, dan koneksi ke database ditutup dengan benar setelah proses selesai atau jika terjadi error.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Selanjutnya Hilangkan species/labelnya</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">pymysql</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tabulate</span><span class="w"> </span><span class="kn">import</span> <span class="n">tabulate</span>

<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>  <span class="c1"># Aiven MySQL biasanya menggunakan port 25060</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>  <span class="c1"># Ganti dengan nama database Anda</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>  <span class="c1"># Username dari Aiven.io</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>  <span class="c1"># Ganti dengan password dari Aiven.io</span>

<span class="k">try</span><span class="p">:</span>
    <span class="c1"># Membuat koneksi ke MySQL</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="n">MYSQL_HOST</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="n">MYSQL_PORT</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="n">MYSQL_USER</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="n">MYSQL_PASS</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="n">MYSQL_DB</span><span class="p">,</span>
        <span class="n">ssl</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}},</span>  <span class="c1"># Aiven.io membutuhkan koneksi SSL</span>
    <span class="p">)</span>
    <span class="n">cur</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>

    <span class="c1"># Menjalankan query untuk mengambil data tanpa kolom &#39;species&#39;</span>
    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT sepalLengthCm, sepalWidthCm, petalLengthCm, petalWidthCm FROM defaultdb.irissql;&quot;</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">cur</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>

    <span class="c1"># Mengambil nama kolom</span>
    <span class="n">col_names</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cur</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>

    <span class="c1"># Menampilkan hasil dalam bentuk tabel</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">col_names</span><span class="p">)</span>
    <span class="n">data_remove_class</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">to_numpy</span><span class="p">()</span>  <span class="c1"># atau df.values</span>

    <span class="c1"># Menampilkan DataFrame tanpa kolom species (kalau ada)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Data tanpa kolom &#39;species&#39;:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s2">&quot;keys&quot;</span><span class="p">,</span> <span class="n">tablefmt</span><span class="o">=</span><span class="s2">&quot;psql&quot;</span><span class="p">))</span>

<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="k">finally</span><span class="p">:</span>
    <span class="c1"># Menutup koneksi</span>
    <span class="k">if</span> <span class="n">cur</span><span class="p">:</span>
        <span class="n">cur</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">conn</span><span class="p">:</span>
        <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Data tanpa kolom &#39;species&#39;:
+-----+-----------------+----------------+-----------------+----------------+
|     |   sepalLengthCm |   sepalWidthCm |   petalLengthCm |   petalWidthCm |
|-----+-----------------+----------------+-----------------+----------------|
|   0 |             5.1 |            3.5 |             1.4 |            0.2 |
|   1 |             4.9 |            3   |             1.4 |            0.2 |
|   2 |             4.7 |            3.2 |             1.3 |            0.2 |
|   3 |             4.6 |            3.1 |             1.5 |            0.2 |
|   4 |             5   |            3.6 |             1.4 |            0.2 |
|   5 |             5.4 |            3.9 |             1.7 |            0.4 |
|   6 |             4.6 |            3.4 |             1.4 |            0.3 |
|   7 |             5   |            3.4 |             1.5 |            0.2 |
|   8 |             4.4 |            2.9 |             1.4 |            0.2 |
|   9 |             4.9 |            3.1 |             1.5 |            0.1 |
|  10 |             5.4 |            3.7 |             1.5 |            0.2 |
|  11 |             4.8 |            3.4 |             1.6 |            0.2 |
|  12 |             4.8 |            3   |             1.4 |            0.1 |
|  13 |             4.3 |            3   |             1.1 |            0.1 |
|  14 |             5.8 |            4   |             1.2 |            0.2 |
|  15 |             5.7 |            4.4 |             1.5 |            0.4 |
|  16 |             5.4 |            3.9 |             1.3 |            0.4 |
|  17 |             5.1 |            3.5 |             1.4 |            0.3 |
|  18 |             5.7 |            3.8 |             1.7 |            0.3 |
|  19 |             5.1 |            3.8 |             1.5 |            0.3 |
|  20 |             5.4 |            3.4 |             1.7 |            0.2 |
|  21 |             5.1 |            3.7 |             1.5 |            0.4 |
|  22 |             4.6 |            3.6 |             1   |            0.2 |
|  23 |             5.1 |            3.3 |             1.7 |            0.5 |
|  24 |             4.8 |            3.4 |             1.9 |            0.2 |
|  25 |             5   |            3   |             1.6 |            0.2 |
|  26 |             5   |            3.4 |             1.6 |            0.4 |
|  27 |             5.2 |            3.5 |             1.5 |            0.2 |
|  28 |             5.2 |            3.4 |             1.4 |            0.2 |
|  29 |             4.7 |            3.2 |             1.6 |            0.2 |
|  30 |             4.8 |            3.1 |             1.6 |            0.2 |
|  31 |             5.4 |            3.4 |             1.5 |            0.4 |
|  32 |             5.2 |            4.1 |             1.5 |            0.1 |
|  33 |             5.5 |            4.2 |             1.4 |            0.2 |
|  34 |             4.9 |            3.1 |             1.5 |            0.1 |
|  35 |             5   |            3.2 |             1.2 |            0.2 |
|  36 |             5.5 |            3.5 |             1.3 |            0.2 |
|  37 |             4.9 |            3.1 |             1.5 |            0.1 |
|  38 |             4.4 |            3   |             1.3 |            0.2 |
|  39 |             5.1 |            3.4 |             1.5 |            0.2 |
|  40 |             5   |            3.5 |             1.3 |            0.3 |
|  41 |             4.5 |            2.3 |             1.3 |            0.3 |
|  42 |             4.4 |            3.2 |             1.3 |            0.2 |
|  43 |             5   |            3.5 |             1.6 |            0.6 |
|  44 |             5.1 |            3.8 |             1.9 |            0.4 |
|  45 |             4.8 |            3   |             1.4 |            0.3 |
|  46 |             5.1 |            3.8 |             1.6 |            0.2 |
|  47 |             4.6 |            3.2 |             1.4 |            0.2 |
|  48 |             5.3 |            3.7 |             1.5 |            0.2 |
|  49 |             5   |            3.3 |             1.4 |            0.2 |
|  50 |             7   |            3.2 |             4.7 |            1.4 |
|  51 |             6.4 |            3.2 |             4.5 |            1.5 |
|  52 |             6.9 |            3.1 |             4.9 |            1.5 |
|  53 |             5.5 |            2.3 |             4   |            1.3 |
|  54 |             6.5 |            2.8 |             4.6 |            1.5 |
|  55 |             5.7 |            2.8 |             4.5 |            1.3 |
|  56 |             6.3 |            3.3 |             4.7 |            1.6 |
|  57 |             4.9 |            2.4 |             3.3 |            1   |
|  58 |             6.6 |            2.9 |             4.6 |            1.3 |
|  59 |             5.2 |            2.7 |             3.9 |            1.4 |
|  60 |             5   |            2   |             3.5 |            1   |
|  61 |             5.9 |            3   |             4.2 |            1.5 |
|  62 |             6   |            2.2 |             4   |            1   |
|  63 |             6.1 |            2.9 |             4.7 |            1.4 |
|  64 |             5.6 |            2.9 |             3.6 |            1.3 |
|  65 |             6.7 |            3.1 |             4.4 |            1.4 |
|  66 |             5.6 |            3   |             4.5 |            1.5 |
|  67 |             5.8 |            2.7 |             4.1 |            1   |
|  68 |             6.2 |            2.2 |             4.5 |            1.5 |
|  69 |             5.6 |            2.5 |             3.9 |            1.1 |
|  70 |             5.9 |            3.2 |             4.8 |            1.8 |
|  71 |             6.1 |            2.8 |             4   |            1.3 |
|  72 |             6.3 |            2.5 |             4.9 |            1.5 |
|  73 |             6.1 |            2.8 |             4.7 |            1.2 |
|  74 |             6.4 |            2.9 |             4.3 |            1.3 |
|  75 |             6.6 |            3   |             4.4 |            1.4 |
|  76 |             6.8 |            2.8 |             4.8 |            1.4 |
|  77 |             6.7 |            3   |             5   |            1.7 |
|  78 |             6   |            2.9 |             4.5 |            1.5 |
|  79 |             5.7 |            2.6 |             3.5 |            1   |
|  80 |             5.5 |            2.4 |             3.8 |            1.1 |
|  81 |             5.5 |            2.4 |             3.7 |            1   |
|  82 |             5.8 |            2.7 |             3.9 |            1.2 |
|  83 |             6   |            2.7 |             5.1 |            1.6 |
|  84 |             5.4 |            3   |             4.5 |            1.5 |
|  85 |             6   |            3.4 |             4.5 |            1.6 |
|  86 |             6.7 |            3.1 |             4.7 |            1.5 |
|  87 |             6.3 |            2.3 |             4.4 |            1.3 |
|  88 |             5.6 |            3   |             4.1 |            1.3 |
|  89 |             5.5 |            2.5 |             4   |            1.3 |
|  90 |             5.5 |            2.6 |             4.4 |            1.2 |
|  91 |             6.1 |            3   |             4.6 |            1.4 |
|  92 |             5.8 |            2.6 |             4   |            1.2 |
|  93 |             5   |            2.3 |             3.3 |            1   |
|  94 |             5.6 |            2.7 |             4.2 |            1.3 |
|  95 |             5.7 |            3   |             4.2 |            1.2 |
|  96 |             5.7 |            2.9 |             4.2 |            1.3 |
|  97 |             6.2 |            2.9 |             4.3 |            1.3 |
|  98 |             5.1 |            2.5 |             3   |            1.1 |
|  99 |             5.7 |            2.8 |             4.1 |            1.3 |
| 100 |             6.3 |            3.3 |             6   |            2.5 |
| 101 |             5.8 |            2.7 |             5.1 |            1.9 |
| 102 |             7.1 |            3   |             5.9 |            2.1 |
| 103 |             6.3 |            2.9 |             5.6 |            1.8 |
| 104 |             6.5 |            3   |             5.8 |            2.2 |
| 105 |             7.6 |            3   |             6.6 |            2.1 |
| 106 |             4.9 |            2.5 |             4.5 |            1.7 |
| 107 |             7.3 |            2.9 |             6.3 |            1.8 |
| 108 |             6.7 |            2.5 |             5.8 |            1.8 |
| 109 |             7.2 |            3.6 |             6.1 |            2.5 |
| 110 |             6.5 |            3.2 |             5.1 |            2   |
| 111 |             6.4 |            2.7 |             5.3 |            1.9 |
| 112 |             6.8 |            3   |             5.5 |            2.1 |
| 113 |             5.7 |            2.5 |             5   |            2   |
| 114 |             5.8 |            2.8 |             5.1 |            2.4 |
| 115 |             6.4 |            3.2 |             5.3 |            2.3 |
| 116 |             6.5 |            3   |             5.5 |            1.8 |
| 117 |             7.7 |            3.8 |             6.7 |            2.2 |
| 118 |             7.7 |            2.6 |             6.9 |            2.3 |
| 119 |             6   |            2.2 |             5   |            1.5 |
| 120 |             6.9 |            3.2 |             5.7 |            2.3 |
| 121 |             5.6 |            2.8 |             4.9 |            2   |
| 122 |             7.7 |            2.8 |             6.7 |            2   |
| 123 |             6.3 |            2.7 |             4.9 |            1.8 |
| 124 |             6.7 |            3.3 |             5.7 |            2.1 |
| 125 |             7.2 |            3.2 |             6   |            1.8 |
| 126 |             6.2 |            2.8 |             4.8 |            1.8 |
| 127 |             6.1 |            3   |             4.9 |            1.8 |
| 128 |             6.4 |            2.8 |             5.6 |            2.1 |
| 129 |             7.2 |            3   |             5.8 |            1.6 |
| 130 |             7.4 |            2.8 |             6.1 |            1.9 |
| 131 |             7.9 |            3.8 |             6.4 |            2   |
| 132 |             6.4 |            2.8 |             5.6 |            2.2 |
| 133 |             6.3 |            2.8 |             5.1 |            1.5 |
| 134 |             6.1 |            2.6 |             5.6 |            1.4 |
| 135 |             7.7 |            3   |             6.1 |            2.3 |
| 136 |             6.3 |            3.4 |             5.6 |            2.4 |
| 137 |             6.4 |            3.1 |             5.5 |            1.8 |
| 138 |             6   |            3   |             4.8 |            1.8 |
| 139 |             6.9 |            3.1 |             5.4 |            2.1 |
| 140 |             6.7 |            3.1 |             5.6 |            2.4 |
| 141 |             6.9 |            3.1 |             5.1 |            2.3 |
| 142 |             5.8 |            2.7 |             5.1 |            1.9 |
| 143 |             6.8 |            3.2 |             5.9 |            2.3 |
| 144 |             6.7 |            3.3 |             5.7 |            2.5 |
| 145 |             6.7 |            3   |             5.2 |            2.3 |
| 146 |             6.3 |            2.5 |             5   |            1.9 |
| 147 |             6.5 |            3   |             5.2 |            2   |
| 148 |             6.2 |            3.4 |             5.4 |            2.3 |
| 149 |             5.9 |            3   |             5.1 |            1.8 |
+-----+-----------------+----------------+-----------------+----------------+
</pre></div>
</div>
</div>
</div>
</section>
<section id="melakukan-visualisasi">
<h2><strong>4. Melakukan Visualisasi</strong><a class="headerlink" href="#melakukan-visualisasi" title="Link to this heading">#</a></h2>
<p>Kode ini bertujuan untuk mengambil data fitur dari database MySQL menggunakan koneksi yang dibuat dengan SQLAlchemy dan menampilkan visualisasi data tersebut dalam bentuk scatter plot. Pertama, dibuat koneksi ke database dengan menyertakan parameter SSL untuk memastikan keamanan saat mengakses data. Kemudian, data fitur seperti panjang dan lebar sepal serta panjang dan lebar petal diambil dari tabel <code class="docutils literal notranslate"><span class="pre">irissql</span></code> dan dimuat ke dalam sebuah DataFrame menggunakan <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. Selanjutnya, data divisualisasikan menggunakan <code class="docutils literal notranslate"><span class="pre">seaborn</span></code> dan <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> dengan membuat dua plot scatter yang memperlihatkan hubungan antara panjang dan lebar sepal pada satu grafik, dan hubungan panjang dan lebar petal pada grafik lainnya. Visualisasi ini bertujuan untuk memberikan gambaran awal mengenai pola dan distribusi data, sehingga memudahkan pemahaman sebelum dilakukan analisis atau pengolahan data lebih lanjut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Langkah Selanjutnya Melakukan Visualisasi</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>

<span class="n">MYSQL_HOST</span> <span class="o">=</span> <span class="s2">&quot;mysql-ce646e0-matakuliah.i.aivencloud.com&quot;</span>
<span class="n">MYSQL_PORT</span> <span class="o">=</span> <span class="mi">18376</span>
<span class="n">MYSQL_DB</span> <span class="o">=</span> <span class="s2">&quot;defaultdb&quot;</span>
<span class="n">MYSQL_USER</span> <span class="o">=</span> <span class="s2">&quot;avnadmin&quot;</span>
<span class="n">MYSQL_PASS</span> <span class="o">=</span> <span class="s2">&quot;AVNS_ttJDVCcji3xAatQ6zvd&quot;</span>

<span class="c1"># Buat koneksi dengan SQLAlchemy</span>
<span class="c1"># Berikan parameter ssl sebagai dictionary untuk PyMySQL</span>
<span class="n">db_url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;mysql+pymysql://</span><span class="si">{</span><span class="n">MYSQL_USER</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">MYSQL_PASS</span><span class="si">}</span><span class="s2">@</span><span class="si">{</span><span class="n">MYSQL_HOST</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">MYSQL_PORT</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">MYSQL_DB</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="c1"># Tambahkan connect_args untuk parameter SSL</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="n">db_url</span><span class="p">,</span> <span class="n">connect_args</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;ssl&#39;</span><span class="p">:</span> <span class="p">{}}})</span>


<span class="c1"># Ambil data</span>
<span class="n">query</span> <span class="o">=</span> <span class="s2">&quot;SELECT sepalLengthCm, sepalWidthCm, petalLengthCm, petalWidthCm FROM irissql;&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>

<span class="c1"># Visualisasi</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;sepalLengthCm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;sepalWidthCm&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Sepal Length vs Width&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Sepal Length (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Sepal Width (cm)&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;petalLengthCm&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;petalWidthCm&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Petal Length vs Width&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Petal Length (cm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Petal Width (cm)&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/de7c7164a6b9acab9221c1b43b08bbacce750bd97cc5af7000ac6a94e3c1a5b9.png" src="_images/de7c7164a6b9acab9221c1b43b08bbacce750bd97cc5af7000ac6a94e3c1a5b9.png" />
</div>
</div>
</section>
<section id="menghitung-k-means-dengan-k-dari-2-sampai-4-beserta-visualisasi-nya">
<h2><strong>5. Menghitung k means dengan k dari 2 sampai 4, beserta visualisasi nya</strong><a class="headerlink" href="#menghitung-k-means-dengan-k-dari-2-sampai-4-beserta-visualisasi-nya" title="Link to this heading">#</a></h2>
<p>Kode ini digunakan untuk melakukan pengelompokan data menggunakan algoritma K-Means dengan jumlah klaster (k) dimulai dari 2 hingga 4, sekaligus menyiapkan data untuk divisualisasikan. Pertama, data fitur yang sudah tanpa label diubah menjadi array NumPy agar dapat diproses oleh algoritma. Kemudian, objek KMeans dibuat dengan parameter seperti jumlah klaster yang diinginkan (dalam contoh ini k=2), metode inisialisasi centroid menggunakan <code class="docutils literal notranslate"><span class="pre">k-means++</span></code> untuk mempercepat konvergensi, jumlah inisialisasi ulang sebanyak 10 kali untuk hasil yang lebih stabil, dan pengaturan lain untuk mengatur batas iterasi dan toleransi perubahan. Selanjutnya, model K-Means dilatih pada data fitur tersebut dengan fungsi <code class="docutils literal notranslate"><span class="pre">.fit()</span></code>. Setelah proses clustering selesai, hasil klasterisasi disimpan dalam <code class="docutils literal notranslate"><span class="pre">labels_</span></code> yang menunjukkan klaster masing-masing data, <code class="docutils literal notranslate"><span class="pre">cluster_centers_</span></code> berisi posisi centroid tiap klaster, serta <code class="docutils literal notranslate"><span class="pre">inertia_</span></code> yang mengukur total jarak kuadrat dari setiap titik ke centroidnya, sebagai indikator seberapa rapat klaster tersebut terbentuk. Kode ini merupakan langkah awal untuk mengelompokkan data sekaligus menyiapkan informasi penting untuk analisis dan visualisasi selanjutnya.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Menghitung k means dengan k dari 2 sampai 4, beserta visualisasi nya</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>

<span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>

<span class="n">k_means_C2</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">tol</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">copy_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lloyd&#39;</span>
<span class="p">)</span>

<span class="n">k_means_C2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="n">labelC2</span> <span class="o">=</span> <span class="n">k_means_C2</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">centroidsC2</span> <span class="o">=</span> <span class="n">k_means_C2</span><span class="o">.</span><span class="n">cluster_centers_</span>
<span class="n">inertiaC2</span> <span class="o">=</span> <span class="n">k_means_C2</span><span class="o">.</span><span class="n">inertia_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Initialization complete
Iteration 0, inertia 135.61999999999998.
Iteration 1, inertia 105.16576351752823.
Converged at iteration 1: strict convergence.
Initialization complete
Iteration 0, inertia 216.54999999999995.
Iteration 1, inertia 105.28435999999999.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 159.73000000000002.
Iteration 1, inertia 106.33766372492286.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 144.86999999999998.
Iteration 1, inertia 105.28435999999999.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 199.2599999999999.
Iteration 1, inertia 107.14788485611595.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 160.12000000000003.
Iteration 1, inertia 105.6647276164429.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 290.7299999999999.
Iteration 1, inertia 105.28435999999999.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 149.52999999999997.
Iteration 1, inertia 107.14788485611595.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 171.19.
Iteration 1, inertia 105.28435999999999.
Iteration 2, inertia 105.16576351752823.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 111.43.
Iteration 1, inertia 105.16576351752823.
Converged at iteration 1: strict convergence.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Asumsikan data_remove_class sudah tersedia dan tidak mengandung kolom class</span>
<span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>

<span class="c1"># KMeans untuk k = 3</span>
<span class="n">k_means_C3</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">tol</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">copy_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lloyd&#39;</span>
<span class="p">)</span>

<span class="c1"># Latih model</span>
<span class="n">k_means_C3</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="c1"># Ambil hasil</span>
<span class="n">labelC3</span> <span class="o">=</span> <span class="n">k_means_C3</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">centroidsC3</span> <span class="o">=</span> <span class="n">k_means_C3</span><span class="o">.</span><span class="n">cluster_centers_</span>
<span class="n">InertiaC3</span> <span class="o">=</span> <span class="n">k_means_C3</span><span class="o">.</span><span class="n">inertia_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Initialization complete
Iteration 0, inertia 101.62999999999994.
Iteration 1, inertia 53.71228616780049.
Iteration 2, inertia 49.637470833333346.
Iteration 3, inertia 48.36391864506109.
Iteration 4, inertia 48.168714731262334.
Iteration 5, inertia 48.03795999999999.
Iteration 6, inertia 48.01326442577033.
Converged at iteration 6: strict convergence.
Initialization complete
Iteration 0, inertia 74.96999999999998.
Iteration 1, inertia 48.17967067102235.
Iteration 2, inertia 48.03795999999999.
Iteration 3, inertia 48.01326442577033.
Converged at iteration 3: strict convergence.
Initialization complete
Iteration 0, inertia 73.51999999999998.
Iteration 1, inertia 53.75499394383634.
Iteration 2, inertia 49.01050335439959.
Iteration 3, inertia 48.4406800962021.
Iteration 4, inertia 48.20424930555555.
Iteration 5, inertia 48.170190905332795.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 58.830000000000005.
Iteration 1, inertia 48.659167658964435.
Iteration 2, inertia 48.168714731262334.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 69.63.
Iteration 1, inertia 48.17428538587848.
Converged at iteration 1: strict convergence.
Initialization complete
Iteration 0, inertia 82.02.
Iteration 1, inertia 52.19027897726125.
Iteration 2, inertia 49.095271605177935.
Iteration 3, inertia 48.292864181499.
Iteration 4, inertia 48.03795999999999.
Iteration 5, inertia 48.01326442577033.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 92.21999999999996.
Iteration 1, inertia 48.93823172986125.
Iteration 2, inertia 48.292864181499.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 57.37.
Iteration 1, inertia 48.29385883733025.
Iteration 2, inertia 48.101985980818874.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 94.26999999999998.
Iteration 1, inertia 55.53507656249998.
Iteration 2, inertia 49.73044753279608.
Iteration 3, inertia 48.4406800962021.
Iteration 4, inertia 48.20424930555555.
Iteration 5, inertia 48.170190905332795.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 74.23.
Iteration 1, inertia 48.40811674640406.
Iteration 2, inertia 48.168714731262334.
Iteration 3, inertia 48.03795999999999.
Iteration 4, inertia 48.01326442577033.
Converged at iteration 4: strict convergence.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Asumsikan data_remove_class sudah tersedia dan tidak mengandung kolom class</span>
<span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">data_remove_class</span><span class="p">])</span>

<span class="c1"># KMeans untuk k = 4</span>
<span class="n">k_means_C4</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span>
    <span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>
    <span class="n">init</span><span class="o">=</span><span class="s1">&#39;k-means++&#39;</span><span class="p">,</span>
    <span class="n">n_init</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
    <span class="n">max_iter</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span>
    <span class="n">tol</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
    <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span>
    <span class="n">copy_x</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;lloyd&#39;</span>
<span class="p">)</span>

<span class="c1"># Latih model</span>
<span class="n">k_means_C4</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="c1"># Ambil hasil</span>
<span class="n">labelC4</span> <span class="o">=</span> <span class="n">k_means_C4</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">centroidsC4</span> <span class="o">=</span> <span class="n">k_means_C4</span><span class="o">.</span><span class="n">cluster_centers_</span>
<span class="n">InertiaC4</span> <span class="o">=</span> <span class="n">k_means_C4</span><span class="o">.</span><span class="n">inertia_</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Initialization complete
Iteration 0, inertia 50.13.
Iteration 1, inertia 34.51888608441198.
Iteration 2, inertia 34.39441862706302.
Iteration 3, inertia 34.35062490842491.
Converged at iteration 3: strict convergence.
Initialization complete
Iteration 0, inertia 54.48999999999999.
Iteration 1, inertia 37.0637319741342.
Iteration 2, inertia 35.33608722668967.
Iteration 3, inertia 34.84717737737736.
Iteration 4, inertia 34.75469840125414.
Iteration 5, inertia 34.67641033278176.
Iteration 6, inertia 34.57568304510763.
Iteration 7, inertia 34.51289444444444.
Converged at iteration 7: strict convergence.
Initialization complete
Iteration 0, inertia 63.000000000000014.
Iteration 1, inertia 36.4527138269532.
Iteration 2, inertia 34.98067929577097.
Iteration 3, inertia 34.84717737737736.
Iteration 4, inertia 34.75469840125414.
Iteration 5, inertia 34.67641033278176.
Iteration 6, inertia 34.57568304510763.
Iteration 7, inertia 34.51289444444444.
Converged at iteration 7: strict convergence.
Initialization complete
Iteration 0, inertia 59.60000000000005.
Iteration 1, inertia 36.65059357899724.
Iteration 2, inertia 34.94410836552725.
Iteration 3, inertia 34.69273686339401.
Iteration 4, inertia 34.57568304510763.
Iteration 5, inertia 34.51289444444444.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 61.27000000000002.
Iteration 1, inertia 36.710744405422595.
Iteration 2, inertia 34.529196179245986.
Iteration 3, inertia 34.47671689301915.
Iteration 4, inertia 34.385058671410704.
Iteration 5, inertia 34.341737037037035.
Converged at iteration 5: strict convergence.
Initialization complete
Iteration 0, inertia 77.02999999999994.
Iteration 1, inertia 34.98669791613268.
Iteration 2, inertia 34.72263859044996.
Iteration 3, inertia 34.53325490919242.
Iteration 4, inertia 34.51289444444444.
Converged at iteration 4: strict convergence.
Initialization complete
Iteration 0, inertia 62.17999999999999.
Iteration 1, inertia 42.382707029478446.
Iteration 2, inertia 40.55698982568846.
Iteration 3, inertia 38.65928028808533.
Iteration 4, inertia 37.669319391025645.
Iteration 5, inertia 36.96621550827793.
Iteration 6, inertia 36.456630191452696.
Iteration 7, inertia 36.39498083170891.
Iteration 8, inertia 36.29266740096091.
Iteration 9, inertia 36.222468170426076.
Converged at iteration 9: strict convergence.
Initialization complete
Iteration 0, inertia 53.51999999999999.
Iteration 1, inertia 38.553303659401976.
Iteration 2, inertia 36.38177885802469.
Iteration 3, inertia 35.14892426850713.
Iteration 4, inertia 34.84717737737736.
Iteration 5, inertia 34.75469840125414.
Iteration 6, inertia 34.67641033278176.
Iteration 7, inertia 34.57568304510763.
Iteration 8, inertia 34.51289444444444.
Converged at iteration 8: strict convergence.
Initialization complete
Iteration 0, inertia 52.57000000000001.
Iteration 1, inertia 34.72099336031934.
Iteration 2, inertia 34.51289444444444.
Converged at iteration 2: strict convergence.
Initialization complete
Iteration 0, inertia 44.58999999999999.
Iteration 1, inertia 36.46063427391197.
Iteration 2, inertia 36.054266386909795.
Iteration 3, inertia 35.82447662037039.
Iteration 4, inertia 35.801256035714296.
Iteration 5, inertia 35.687867227522176.
Iteration 6, inertia 35.55372666179692.
Iteration 7, inertia 35.28811208791209.
Iteration 8, inertia 34.58512918472541.
Iteration 9, inertia 34.3811097222222.
Iteration 10, inertia 34.296908390022686.
Iteration 11, inertia 34.266958907496914.
Converged at iteration 11: strict convergence.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Misal val_X adalah data yang sudah ada</span>
<span class="n">k_values</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  <span class="c1"># Uji dengan K=2, K=3, dan K=4</span>

<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_values</span><span class="p">:</span>
    <span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

    <span class="c1"># Visualisasi cluster</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">val_X</span><span class="p">[</span><span class="n">labels</span> <span class="o">==</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">val_X</span><span class="p">[</span><span class="n">labels</span> <span class="o">==</span> <span class="n">i</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Cluster </span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="c1"># Visualisasi centroid</span>
    <span class="n">centroids</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">cluster_centers_</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroids</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroids</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Centroids&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cluster Visualization (k=</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Feature 1&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Feature 2&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/1c4062ecd58fc16ad164728701220f78f56c842ee2ed35000bd3645c86fb3b2a.png" src="_images/1c4062ecd58fc16ad164728701220f78f56c842ee2ed35000bd3645c86fb3b2a.png" />
<img alt="_images/dbf6945d4fbb5939fc53c5f99217335725017e3eaac6140dedcd0d1cc76efdb3.png" src="_images/dbf6945d4fbb5939fc53c5f99217335725017e3eaac6140dedcd0d1cc76efdb3.png" />
<img alt="_images/af34fd7db6baa77de76f8b7f211bd66b5b512d4883124494d4c5c5502eb2c0fe.png" src="_images/af34fd7db6baa77de76f8b7f211bd66b5b512d4883124494d4c5c5502eb2c0fe.png" />
</div>
</div>
</section>
<section id="menghitung-nilai-inertia-dan-siluet-score-dari-setiap-k-dari-2-sampai-4">
<h2><strong>6. Menghitung nilai inertia dan siluet score dari setiap k dari 2 sampai 4</strong><a class="headerlink" href="#menghitung-nilai-inertia-dan-siluet-score-dari-setiap-k-dari-2-sampai-4" title="Link to this heading">#</a></h2>
<p>Proses menghitung dua metrik evaluasi penting, yaitu inertia dan silhouette score, untuk setiap jumlah klaster mulai dari 2 hingga 4. Inertia mengukur seberapa rapat data dalam setiap klaster dengan menghitung total jarak kuadrat antara data dan centroidnya, sedangkan silhouette score menilai seberapa baik pemisahan antara klaster dengan membandingkan kedekatan data pada klasternya sendiri dan klaster lain. Dengan membandingkan nilai inertia dan silhouette score untuk tiap jumlah klaster, kita dapat menentukan jumlah klaster yang paling optimal untuk data tersebut.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inertia dengan k = 2:&quot;</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inertia dengan k = 2: 152.36870647733915
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">silhouette_score</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pymysql</span>

<span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">sil_score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Silhouette Score untuk k=2: &quot;</span><span class="p">,</span> <span class="n">sil_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Silhouette Score untuk k=2:  0.6808136202936816
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inertia dengan k = 3:&quot;</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inertia dengan k = 3: 78.94506582597728
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">sil_score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Silhouette Score untuk k = 3: &quot;</span><span class="p">,</span> <span class="n">sil_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Silhouette Score untuk k = 3:  0.5509643746707443
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span>
<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inertia dengan k = 4:&quot;</span><span class="p">,</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Inertia dengan k = 4: 57.44028021295475
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">val_X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">k_means</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="n">k_means</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

<span class="n">sil_score</span> <span class="o">=</span> <span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Silhouette Score untuk k = 4: &quot;</span><span class="p">,</span> <span class="n">sil_score</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Silhouette Score untuk k = 4:  0.4974115445023624
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisasi-dari-score-siluet">
<h2><strong>7. Visualisasi dari score siluet</strong><a class="headerlink" href="#visualisasi-dari-score-siluet" title="Link to this heading">#</a></h2>
<p>Visualisasi dari skor siluet bertujuan untuk memperlihatkan seberapa baik setiap data dalam sebuah klaster sesuai dengan klasternya dan seberapa jelas batas antara klaster yang satu dengan yang lain. Grafik ini biasanya menampilkan nilai siluet untuk tiap titik data secara terpisah dalam setiap klaster, sehingga memudahkan kita melihat apakah ada data yang mungkin kurang cocok atau klaster yang kurang rapat. Dengan visualisasi ini, kita bisa lebih mudah mengevaluasi kualitas hasil clustering secara detail dan memilih jumlah klaster yang paling tepat berdasarkan pola nilai siluet yang muncul.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Visualisasi dari score siluet</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.cluster</span><span class="w"> </span><span class="kn">import</span> <span class="n">KMeans</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">silhouette_score</span><span class="p">,</span> <span class="n">silhouette_samples</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Asumsi data sudah ada di val_X (data yang digunakan untuk clustering)</span>

<span class="n">k_range</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># Uji untuk K=2, K=3, K=4</span>
<span class="n">silhouette_scores</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">cluster_results</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">k_range</span><span class="p">:</span>
    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>

    <span class="c1"># Hitung Silhouette Score</span>
    <span class="n">silhouette_values</span> <span class="o">=</span> <span class="n">silhouette_samples</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span>
    <span class="n">silhouette_scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">silhouette_score</span><span class="p">(</span><span class="n">val_X</span><span class="p">,</span> <span class="n">labels</span><span class="p">))</span>  <span class="c1"># Menyimpan Silhouette Score untuk K</span>

    <span class="c1"># Simpan hasil untuk plotting nanti</span>
    <span class="n">cluster_results</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;labels&#39;</span><span class="p">:</span> <span class="n">labels</span><span class="p">,</span>
        <span class="s1">&#39;silhouette_values&#39;</span><span class="p">:</span> <span class="n">silhouette_values</span><span class="p">,</span>
        <span class="s1">&#39;centroids&#39;</span><span class="p">:</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">cluster_centers_</span>
    <span class="p">}</span>

    <span class="c1"># ---- Silhouette Plot untuk K Cluster ----</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
    <span class="n">y_lower</span> <span class="o">=</span> <span class="mi">10</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="p">):</span>  <span class="c1"># Loop untuk masing-masing cluster</span>
        <span class="n">ith_cluster_silhouette_values</span> <span class="o">=</span> <span class="n">silhouette_values</span><span class="p">[</span><span class="n">labels</span> <span class="o">==</span> <span class="n">i</span><span class="p">]</span>
        <span class="n">ith_cluster_silhouette_values</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>

        <span class="n">size_cluster_i</span> <span class="o">=</span> <span class="n">ith_cluster_silhouette_values</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">y_upper</span> <span class="o">=</span> <span class="n">y_lower</span> <span class="o">+</span> <span class="n">size_cluster_i</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Spectral</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">/</span> <span class="n">k</span><span class="p">)</span>

        <span class="n">ax</span><span class="o">.</span><span class="n">fill_betweenx</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">y_lower</span><span class="p">,</span> <span class="n">y_upper</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">ith_cluster_silhouette_values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">-</span><span class="mf">0.05</span><span class="p">,</span> <span class="p">(</span><span class="n">y_lower</span> <span class="o">+</span> <span class="n">y_upper</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Cluster </span><span class="si">{</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>

        <span class="n">y_lower</span> <span class="o">=</span> <span class="n">y_upper</span> <span class="o">+</span> <span class="mi">10</span>

    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Silhouette Plot for K=</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Silhouette Coefficient&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Cluster Label&quot;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">)</span>

    <span class="c1"># Centroid visualisation (titik centroid)</span>
    <span class="n">centroids</span> <span class="o">=</span> <span class="n">cluster_results</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="s1">&#39;centroids&#39;</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">centroids</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">centroids</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Centroids&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;best&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ---- Plot Silhouette Score per K ----</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">k_range</span><span class="p">,</span> <span class="n">silhouette_scores</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Silhouette Score per K (Iris Dataset)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jumlah Cluster (K)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Silhouette Score&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">k_range</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Tampilkan K optimal berdasarkan Silhouette Score tertinggi</span>
<span class="n">optimal_k</span> <span class="o">=</span> <span class="n">k_range</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">silhouette_scores</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">K dengan Silhouette Score terbaik adalah: K = </span><span class="si">{</span><span class="n">optimal_k</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/7e1771eee2bf3d5ab36459aa97c0db2cdd027633f73a40877f90410154c06da3.png" src="_images/7e1771eee2bf3d5ab36459aa97c0db2cdd027633f73a40877f90410154c06da3.png" />
<img alt="_images/7548bf4b1e417ea62c2221a2a7624239d62a227ba7afa1d55a3ed18087a71a6d.png" src="_images/7548bf4b1e417ea62c2221a2a7624239d62a227ba7afa1d55a3ed18087a71a6d.png" />
<img alt="_images/6dd160162e3d4de81c7d6bb2ec0ed1dd10cc0ebef5264114eba5c160d8827556.png" src="_images/6dd160162e3d4de81c7d6bb2ec0ed1dd10cc0ebef5264114eba5c160d8827556.png" />
<img alt="_images/9fa56182c3545cb28d969c985fc2b58765c115e868a9ed68c706d5fff2130b28.png" src="_images/9fa56182c3545cb28d969c985fc2b58765c115e868a9ed68c706d5fff2130b28.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>K dengan Silhouette Score terbaik adalah: K = 2
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">inertia_values</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">k</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">kmeans</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">val_X</span><span class="p">)</span>
    <span class="n">inertia_values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kmeans</span><span class="o">.</span><span class="n">inertia_</span><span class="p">)</span>

<span class="c1"># Plotting inertia vs k</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">),</span> <span class="n">inertia_values</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Elbow Method for Optimal k&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of Clusters (k)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Inertia&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">11</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/53e059ec517bb79d5ccd37d67ccce87f3cd633e8b2f7ec1299cdda261471edc1.png" src="_images/53e059ec517bb79d5ccd37d67ccce87f3cd633e8b2f7ec1299cdda261471edc1.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="proyek_ujiantengahsemester.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>ğŸ“ UTS Penambangan Data - Klasifikasi Prediksi Survival Pasien Sirosis</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>Pengenalan Clustering dan K-Means</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#apa-itu-clustering"><strong>Apa Itu Clusteringâ€¦?</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#algoritma-k-means"><strong>Algoritma K-Means</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-kualitas-clustering"><strong>Evaluasi Kualitas Clustering</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#implementasi-algoritma-k-means-menggunakan-python"><strong>Implementasi Algoritma K-Means Menggunakan Python</strong></a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#install-library-yang-dibutuhkan"><strong>1. Install Library yang dibutuhkan</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mengambil-database-dari-dbever"><strong>2. Mengambil Database dari DBever</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghilangkan-species-labelnya"><strong>3. Menghilangkan species / labelnya</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#melakukan-visualisasi"><strong>4. Melakukan Visualisasi</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-k-means-dengan-k-dari-2-sampai-4-beserta-visualisasi-nya"><strong>5. Menghitung k means dengan k dari 2 sampai 4, beserta visualisasi nya</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#menghitung-nilai-inertia-dan-siluet-score-dari-setiap-k-dari-2-sampai-4"><strong>6. Menghitung nilai inertia dan siluet score dari setiap k dari 2 sampai 4</strong></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-dari-score-siluet"><strong>7. Visualisasi dari score siluet</strong></a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>