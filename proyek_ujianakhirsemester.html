
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>üìù UAS Penambangan Data - Analisis pada dataset Mushroom (Jamur) &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'proyek_ujianakhirsemester';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="PRA UAS Penambangan Data" href="tugas_pra_uas.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to Penambangan Data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="data_understanding.html"><strong>Data Understanding</strong></a></li>






<li class="toctree-l1"><a class="reference internal" href="outlier_detection.html"><strong>Outliers Detection Menggunakan Metode K-Nearest Neighbors (KNN)</strong></a></li>






<li class="toctree-l1"><a class="reference internal" href="local_outlier_factor_%28lof%29.html"><strong>Local Outlier Factor (LOF)</strong></a></li>







<li class="toctree-l1"><a class="reference internal" href="klasifikasi_naive_bayes.html"><strong>Klasifikasi Naive Bayes</strong></a></li>






<li class="toctree-l1"><a class="reference internal" href="proyek_ujiantengahsemester.html"><strong>üìù UTS Penambangan Data - Klasifikasi Prediksi Survival Pasien Sirosis</strong></a></li>



<li class="toctree-l1"><a class="reference internal" href="algoritma_k-means_clustering.html"><strong>Pengenalan Clustering dan K-Means</strong></a></li>





<li class="toctree-l1"><a class="reference internal" href="decison_tree.html"><strong>Decision Tree</strong></a></li>







<li class="toctree-l1"><a class="reference internal" href="binning_diskretisasi.html"><strong>Binning (Diskritisasi menggunakan K-Means Clustering)</strong></a></li>










<li class="toctree-l1"><a class="reference internal" href="tugas_pra_uas.html"><strong>PRA UAS Penambangan Data</strong></a></li>





<li class="toctree-l1 current active"><a class="current reference internal" href="#"><strong>üìù UAS Penambangan Data - Analisis pada dataset Mushroom (Jamur)</strong></a></li>









</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fproyek_ujianakhirsemester.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/proyek_ujianakhirsemester.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>üìù UAS Penambangan Data - Analisis pada dataset Mushroom (Jamur)</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>üìù UAS Penambangan Data - Analisis pada dataset Mushroom (Jamur)</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset"><strong>1. Dataset</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library"><strong>2. Import Library</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#load-dataset"><strong>3. Load Dataset</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding"><strong>4. Data Understanding</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-persiapan-data"><strong>5. Preprocessing (Persiapan Data)</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-pembuatan-model"><strong>6. Modelling (Pembuatan Model)</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model"><strong>7. Evaluasi Model</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan-analisis"><strong>8. Kesimpulan Analisis</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-deployment"><strong>9. Hasil Deployment</strong></a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="uas-penambangan-data-analisis-pada-dataset-mushroom-jamur">
<h1><strong>üìù UAS Penambangan Data - Analisis pada dataset Mushroom (Jamur)</strong><a class="headerlink" href="#uas-penambangan-data-analisis-pada-dataset-mushroom-jamur" title="Link to this heading">#</a></h1>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dataset">
<h1><strong>1. Dataset</strong><a class="headerlink" href="#dataset" title="Link to this heading">#</a></h1>
<p>üìå Sumber Dataset
Dataset diambil dari UCI Machine Learning Repository
Judul: Mushroom Dataset</p>
<p>üîó <a class="reference external" href="https://archive.ics.uci.edu/dataset/73/mushroom">https://archive.ics.uci.edu/dataset/73/mushroom</a></p>
<p>üßæ Apa itu?
Dataset adalah kumpulan data yang digunakan sebagai bahan utama untuk dilakukan proses analisis, pelatihan model, dan evaluasi dalam proyek penambangan data.</p>
<p>üìñ Penjelasan
Pada proyek ini, dataset yang digunakan berjudul Mushroom Dataset, diambil dari UCI Machine Learning Repository. Dataset ini berisi informasi mengenai berbagai karakteristik fisik jamur, seperti bentuk topi, warna, bau, dan lainnya. Tujuan dari dataset ini adalah untuk mengklasifikasikan apakah jamur tersebut dapat dimakan (edible) atau beracun (poisonous).</p>
<p>Dataset ini terdiri dari:</p>
<ul class="simple">
<li><p>8124 data jamur</p></li>
<li><p>22 atribut fitur (semuanya kategorikal)</p></li>
<li><p>1 kolom target: class ‚Üí edible (e) atau poisonous (p)</p></li>
<li><p>Beberapa fitur penting: odor, gill-color, spore-print-color, habitat, dst.</p></li>
</ul>
<p>üéØ Tujuan
Dataset ini digunakan untuk membangun sistem klasifikasi yang mampu:</p>
<ul class="simple">
<li><p>Memprediksi apakah jamur dapat dimakan atau beracun berdasarkan ciri-ciri fisiknya</p></li>
<li><p>Mengevaluasi beberapa model klasifikasi seperti Decision Tree, Random Forest, dan K-Nearest Neighbor</p></li>
<li><p>Menentukan model terbaik dan menyimpannya untuk keperluan deployment</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="import-library">
<h1><strong>2. Import Library</strong><a class="headerlink" href="#import-library" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.tree</span><span class="w"> </span><span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.neighbors</span><span class="w"> </span><span class="kn">import</span> <span class="n">KNeighborsClassifier</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">confusion_matrix</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">seaborn</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sns</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">joblib</span>
</pre></div>
</div>
</div>
</div>
<p>üìå Penjelasan Import Library:</p>
<ul class="simple">
<li><p>pandas, numpy: untuk mengelola dan memanipulasi data.</p></li>
<li><p>LabelEncoder: untuk mengubah data kategorikal menjadi numerik.</p></li>
<li><p>train_test_split: membagi data jadi training dan testing.</p></li>
<li><p>DecisionTreeClassifier, RandomForestClassifier, KNeighborsClassifier: algoritma klasifikasi yang akan digunakan.</p></li>
<li><p>accuracy_score, classification_report, confusion_matrix: evaluasi model.</p></li>
<li><p>matplotlib, seaborn: untuk membuat grafik visualisasi.</p></li>
<li><p>joblib: menyimpan model ke file .pkl.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="load-dataset">
<h1><strong>3. Load Dataset</strong><a class="headerlink" href="#load-dataset" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://archive.ics.uci.edu/ml/machine-learning-databases/mushroom/agaricus-lepiota.data&#39;</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;cap-shape&#39;</span><span class="p">,</span> <span class="s1">&#39;cap-surface&#39;</span><span class="p">,</span> <span class="s1">&#39;cap-color&#39;</span><span class="p">,</span> <span class="s1">&#39;bruises&#39;</span><span class="p">,</span> <span class="s1">&#39;odor&#39;</span><span class="p">,</span>
           <span class="s1">&#39;gill-attachment&#39;</span><span class="p">,</span> <span class="s1">&#39;gill-spacing&#39;</span><span class="p">,</span> <span class="s1">&#39;gill-size&#39;</span><span class="p">,</span> <span class="s1">&#39;gill-color&#39;</span><span class="p">,</span>
           <span class="s1">&#39;stalk-shape&#39;</span><span class="p">,</span> <span class="s1">&#39;stalk-root&#39;</span><span class="p">,</span> <span class="s1">&#39;stalk-surface-above-ring&#39;</span><span class="p">,</span>
           <span class="s1">&#39;stalk-surface-below-ring&#39;</span><span class="p">,</span> <span class="s1">&#39;stalk-color-above-ring&#39;</span><span class="p">,</span>
           <span class="s1">&#39;stalk-color-below-ring&#39;</span><span class="p">,</span> <span class="s1">&#39;veil-type&#39;</span><span class="p">,</span> <span class="s1">&#39;veil-color&#39;</span><span class="p">,</span> <span class="s1">&#39;ring-number&#39;</span><span class="p">,</span>
           <span class="s1">&#39;ring-type&#39;</span><span class="p">,</span> <span class="s1">&#39;spore-print-color&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">,</span> <span class="s1">&#39;habitat&#39;</span><span class="p">]</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>üìå Penjelasan Load Data:</p>
<ul class="simple">
<li><p>Dataset diambil langsung dari UCI ML Repository.</p></li>
<li><p>Kolom data diberi nama agar mudah dibaca dan diakses.</p></li>
<li><p>Data ini tidak memiliki header, jadi ditambahkan secara manual.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="data-understanding">
<h1><strong>4. Data Understanding</strong><a class="headerlink" href="#data-understanding" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jumlah Data:&quot;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Contoh Data:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Jumlah Nilai Unik per Kolom:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">nunique</span><span class="p">())</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Distribusi Kelas Target:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jumlah Data: (8124, 23)

Contoh Data:
  class cap-shape cap-surface cap-color bruises odor gill-attachment  \
0     p         x           s         n       t    p               f   
1     e         x           s         y       t    a               f   
2     e         b           s         w       t    l               f   
3     p         x           y         w       t    p               f   
4     e         x           s         g       f    n               f   

  gill-spacing gill-size gill-color  ... stalk-surface-below-ring  \
0            c         n          k  ...                        s   
1            c         b          k  ...                        s   
2            c         b          n  ...                        s   
3            c         n          n  ...                        s   
4            w         b          k  ...                        s   

  stalk-color-above-ring stalk-color-below-ring veil-type veil-color  \
0                      w                      w         p          w   
1                      w                      w         p          w   
2                      w                      w         p          w   
3                      w                      w         p          w   
4                      w                      w         p          w   

  ring-number ring-type spore-print-color population habitat  
0           o         p                 k          s       u  
1           o         p                 n          n       g  
2           o         p                 n          n       m  
3           o         p                 k          s       u  
4           o         e                 n          a       g  

[5 rows x 23 columns]

Jumlah Nilai Unik per Kolom:
class                        2
cap-shape                    6
cap-surface                  4
cap-color                   10
bruises                      2
odor                         9
gill-attachment              2
gill-spacing                 2
gill-size                    2
gill-color                  12
stalk-shape                  2
stalk-root                   5
stalk-surface-above-ring     4
stalk-surface-below-ring     4
stalk-color-above-ring       9
stalk-color-below-ring       9
veil-type                    1
veil-color                   4
ring-number                  3
ring-type                    5
spore-print-color            9
population                   6
habitat                      7
dtype: int64

Distribusi Kelas Target:
class
e    4208
p    3916
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>üìå Penjelasan Data Understanding:</p>
<ul class="simple">
<li><p>df.shape: melihat jumlah baris dan kolom (8124 baris, 23 kolom).</p></li>
<li><p>df.head(): menampilkan contoh 5 data pertama.</p></li>
<li><p>df.nunique(): mengecek berapa banyak kategori di setiap kolom.</p></li>
<li><p>value_counts(): melihat distribusi target (e = edible, p = poisonous).</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="preprocessing-persiapan-data">
<h1><strong>5. Preprocessing (Persiapan Data)</strong><a class="headerlink" href="#preprocessing-persiapan-data" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;stalk-root&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;stalk-root&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">df_encoded</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>

<span class="n">X</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>

<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-4-1096087442.py:2: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method({col: value}, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df[&#39;stalk-root&#39;].fillna(df[&#39;stalk-root&#39;].mode()[0], inplace=True)
</pre></div>
</div>
</div>
</div>
<p>üìå Penjelasan Preprocessing (Persiapan Data):</p>
<ul class="simple">
<li><p>Dataset memiliki missing value (?) di kolom stalk-root.</p></li>
<li><p>Diubah menjadi NaN, lalu diisi dengan nilai paling sering (modus).</p></li>
<li><p>Seluruh data kategorikal diubah ke bentuk angka dengan LabelEncoder.</p></li>
<li><p>X: fitur (input), y: label (class).</p></li>
<li><p>train_test_split: membagi data 80% untuk training dan 20% untuk testing.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="modelling-pembuatan-model">
<h1><strong>6. Modelling (Pembuatan Model)</strong><a class="headerlink" href="#modelling-pembuatan-model" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Decision Tree</span>
<span class="n">dt_model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">dt_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Random Forest</span>
<span class="n">rf_model</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># K-Nearest Neighbors</span>
<span class="n">knn_model</span> <span class="o">=</span> <span class="n">KNeighborsClassifier</span><span class="p">()</span>
<span class="n">knn_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style>#sk-container-id-1 {
  /* Definition of color scheme common for light and dark mode */
  --sklearn-color-text: #000;
  --sklearn-color-text-muted: #666;
  --sklearn-color-line: gray;
  /* Definition of color scheme for unfitted estimators */
  --sklearn-color-unfitted-level-0: #fff5e6;
  --sklearn-color-unfitted-level-1: #f6e4d2;
  --sklearn-color-unfitted-level-2: #ffe0b3;
  --sklearn-color-unfitted-level-3: chocolate;
  /* Definition of color scheme for fitted estimators */
  --sklearn-color-fitted-level-0: #f0f8ff;
  --sklearn-color-fitted-level-1: #d4ebff;
  --sklearn-color-fitted-level-2: #b3dbfd;
  --sklearn-color-fitted-level-3: cornflowerblue;

  /* Specific color for light theme */
  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));
  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));
  --sklearn-color-icon: #696969;

  @media (prefers-color-scheme: dark) {
    /* Redefinition of color scheme for dark theme */
    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));
    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));
    --sklearn-color-icon: #878787;
  }
}

#sk-container-id-1 {
  color: var(--sklearn-color-text);
}

#sk-container-id-1 pre {
  padding: 0;
}

#sk-container-id-1 input.sk-hidden--visually {
  border: 0;
  clip: rect(1px 1px 1px 1px);
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

#sk-container-id-1 div.sk-dashed-wrapped {
  border: 1px dashed var(--sklearn-color-line);
  margin: 0 0.4em 0.5em 0.4em;
  box-sizing: border-box;
  padding-bottom: 0.4em;
  background-color: var(--sklearn-color-background);
}

#sk-container-id-1 div.sk-container {
  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`
     but bootstrap.min.css set `[hidden] { display: none !important; }`
     so we also need the `!important` here to be able to override the
     default hidden behavior on the sphinx rendered scikit-learn.org.
     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */
  display: inline-block !important;
  position: relative;
}

#sk-container-id-1 div.sk-text-repr-fallback {
  display: none;
}

div.sk-parallel-item,
div.sk-serial,
div.sk-item {
  /* draw centered vertical line to link estimators */
  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));
  background-size: 2px 100%;
  background-repeat: no-repeat;
  background-position: center center;
}

/* Parallel-specific style estimator block */

#sk-container-id-1 div.sk-parallel-item::after {
  content: "";
  width: 100%;
  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);
  flex-grow: 1;
}

#sk-container-id-1 div.sk-parallel {
  display: flex;
  align-items: stretch;
  justify-content: center;
  background-color: var(--sklearn-color-background);
  position: relative;
}

#sk-container-id-1 div.sk-parallel-item {
  display: flex;
  flex-direction: column;
}

#sk-container-id-1 div.sk-parallel-item:first-child::after {
  align-self: flex-end;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:last-child::after {
  align-self: flex-start;
  width: 50%;
}

#sk-container-id-1 div.sk-parallel-item:only-child::after {
  width: 0;
}

/* Serial-specific style estimator block */

#sk-container-id-1 div.sk-serial {
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: var(--sklearn-color-background);
  padding-right: 1em;
  padding-left: 1em;
}


/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is
clickable and can be expanded/collapsed.
- Pipeline and ColumnTransformer use this feature and define the default style
- Estimators will overwrite some part of the style using the `sk-estimator` class
*/

/* Pipeline and ColumnTransformer style (default) */

#sk-container-id-1 div.sk-toggleable {
  /* Default theme specific background. It is overwritten whether we have a
  specific estimator or a Pipeline/ColumnTransformer */
  background-color: var(--sklearn-color-background);
}

/* Toggleable label */
#sk-container-id-1 label.sk-toggleable__label {
  cursor: pointer;
  display: flex;
  width: 100%;
  margin-bottom: 0;
  padding: 0.5em;
  box-sizing: border-box;
  text-align: center;
  align-items: start;
  justify-content: space-between;
  gap: 0.5em;
}

#sk-container-id-1 label.sk-toggleable__label .caption {
  font-size: 0.6rem;
  font-weight: lighter;
  color: var(--sklearn-color-text-muted);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:before {
  /* Arrow on the left of the label */
  content: "‚ñ∏";
  float: left;
  margin-right: 0.25em;
  color: var(--sklearn-color-icon);
}

#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {
  color: var(--sklearn-color-text);
}

/* Toggleable content - dropdown */

#sk-container-id-1 div.sk-toggleable__content {
  max-height: 0;
  max-width: 0;
  overflow: hidden;
  text-align: left;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content pre {
  margin: 0.2em;
  border-radius: 0.25em;
  color: var(--sklearn-color-text);
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-toggleable__content.fitted pre {
  /* unfitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {
  /* Expand drop-down */
  max-height: 200px;
  max-width: 100%;
  overflow: auto;
}

#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {
  content: "‚ñæ";
}

/* Pipeline/ColumnTransformer-specific style */

#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator-specific style */

/* Colorize estimator box */
#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

#sk-container-id-1 div.sk-label label.sk-toggleable__label,
#sk-container-id-1 div.sk-label label {
  /* The background is the default theme color */
  color: var(--sklearn-color-text-on-default-background);
}

/* On hover, darken the color of the background */
#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-unfitted-level-2);
}

/* Label box, darken color on hover, fitted */
#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {
  color: var(--sklearn-color-text);
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Estimator label */

#sk-container-id-1 div.sk-label label {
  font-family: monospace;
  font-weight: bold;
  display: inline-block;
  line-height: 1.2em;
}

#sk-container-id-1 div.sk-label-container {
  text-align: center;
}

/* Estimator-specific */
#sk-container-id-1 div.sk-estimator {
  font-family: monospace;
  border: 1px dotted var(--sklearn-color-border-box);
  border-radius: 0.25em;
  box-sizing: border-box;
  margin-bottom: 0.5em;
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-0);
}

#sk-container-id-1 div.sk-estimator.fitted {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-0);
}

/* on hover */
#sk-container-id-1 div.sk-estimator:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-2);
}

#sk-container-id-1 div.sk-estimator.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-2);
}

/* Specification for estimator info (e.g. "i" and "?") */

/* Common style for "i" and "?" */

.sk-estimator-doc-link,
a:link.sk-estimator-doc-link,
a:visited.sk-estimator-doc-link {
  float: right;
  font-size: smaller;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1em;
  height: 1em;
  width: 1em;
  text-decoration: none !important;
  margin-left: 0.5em;
  text-align: center;
  /* unfitted */
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
  color: var(--sklearn-color-unfitted-level-1);
}

.sk-estimator-doc-link.fitted,
a:link.sk-estimator-doc-link.fitted,
a:visited.sk-estimator-doc-link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
div.sk-estimator:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover,
div.sk-label-container:hover .sk-estimator-doc-link:hover,
.sk-estimator-doc-link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

div.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover,
div.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,
.sk-estimator-doc-link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

/* Span, style for the box shown on hovering the info icon */
.sk-estimator-doc-link span {
  display: none;
  z-index: 9999;
  position: relative;
  font-weight: normal;
  right: .2ex;
  padding: .5ex;
  margin: .5ex;
  width: min-content;
  min-width: 20ex;
  max-width: 50ex;
  color: var(--sklearn-color-text);
  box-shadow: 2pt 2pt 4pt #999;
  /* unfitted */
  background: var(--sklearn-color-unfitted-level-0);
  border: .5pt solid var(--sklearn-color-unfitted-level-3);
}

.sk-estimator-doc-link.fitted span {
  /* fitted */
  background: var(--sklearn-color-fitted-level-0);
  border: var(--sklearn-color-fitted-level-3);
}

.sk-estimator-doc-link:hover span {
  display: block;
}

/* "?"-specific style due to the `<a>` HTML tag */

#sk-container-id-1 a.estimator_doc_link {
  float: right;
  font-size: 1rem;
  line-height: 1em;
  font-family: monospace;
  background-color: var(--sklearn-color-background);
  border-radius: 1rem;
  height: 1rem;
  width: 1rem;
  text-decoration: none;
  /* unfitted */
  color: var(--sklearn-color-unfitted-level-1);
  border: var(--sklearn-color-unfitted-level-1) 1pt solid;
}

#sk-container-id-1 a.estimator_doc_link.fitted {
  /* fitted */
  border: var(--sklearn-color-fitted-level-1) 1pt solid;
  color: var(--sklearn-color-fitted-level-1);
}

/* On hover */
#sk-container-id-1 a.estimator_doc_link:hover {
  /* unfitted */
  background-color: var(--sklearn-color-unfitted-level-3);
  color: var(--sklearn-color-background);
  text-decoration: none;
}

#sk-container-id-1 a.estimator_doc_link.fitted:hover {
  /* fitted */
  background-color: var(--sklearn-color-fitted-level-3);
}
</style><div id="sk-container-id-1" class="sk-top-container"><div class="sk-text-repr-fallback"><pre>KNeighborsClassifier()</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class="sk-container" hidden><div class="sk-item"><div class="sk-estimator fitted sk-toggleable"><input class="sk-toggleable__control sk-hidden--visually" id="sk-estimator-id-1" type="checkbox" checked><label for="sk-estimator-id-1" class="sk-toggleable__label fitted sk-toggleable__label-arrow"><div><div>KNeighborsClassifier</div></div><div><a class="sk-estimator-doc-link fitted" rel="noreferrer" target="_blank" href="https://scikit-learn.org/1.6/modules/generated/sklearn.neighbors.KNeighborsClassifier.html">?<span>Documentation for KNeighborsClassifier</span></a><span class="sk-estimator-doc-link fitted">i<span>Fitted</span></span></div></label><div class="sk-toggleable__content fitted"><pre>KNeighborsClassifier()</pre></div> </div></div></div></div></div></div>
</div>
<p>üìå Penjelasan Modelling (Pembuatan Model):</p>
<p>Tiga model dibuat untuk membandingkan performanya:</p>
<ul class="simple">
<li><p>Decision Tree: membuat pohon keputusan.</p></li>
<li><p>Random Forest: gabungan beberapa pohon keputusan (lebih kuat).</p></li>
<li><p>KNN: klasifikasi berdasarkan tetangga terdekat.</p></li>
<li><p>.fit(): melatih model dengan data training.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="evaluasi-model">
<h1><strong>7. Evaluasi Model</strong><a class="headerlink" href="#evaluasi-model" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">evaluate_model</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="n">acc</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Model: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">acc</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Classification Report:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

    <span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
    <span class="n">sns</span><span class="o">.</span><span class="n">heatmap</span><span class="p">(</span><span class="n">cm</span><span class="p">,</span> <span class="n">annot</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Confusion Matrix: </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Predicted&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Actual&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Evaluasi semua model</span>
<span class="n">evaluate_model</span><span class="p">(</span><span class="s2">&quot;Decision Tree&quot;</span><span class="p">,</span> <span class="n">dt_model</span><span class="p">)</span>
<span class="n">evaluate_model</span><span class="p">(</span><span class="s2">&quot;Random Forest&quot;</span><span class="p">,</span> <span class="n">rf_model</span><span class="p">)</span>
<span class="n">evaluate_model</span><span class="p">(</span><span class="s2">&quot;KNN&quot;</span><span class="p">,</span> <span class="n">knn_model</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model: Decision Tree
Akurasi: 1.0
Classification Report:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00       843
           1       1.00      1.00      1.00       782

    accuracy                           1.00      1625
   macro avg       1.00      1.00      1.00      1625
weighted avg       1.00      1.00      1.00      1625
</pre></div>
</div>
<img alt="_images/1309aaaa66f2ec3acf23d32066ff289a190e57a15ad1f13c3dc5d064741ca683.png" src="_images/1309aaaa66f2ec3acf23d32066ff289a190e57a15ad1f13c3dc5d064741ca683.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model: Random Forest
Akurasi: 1.0
Classification Report:
              precision    recall  f1-score   support

           0       1.00      1.00      1.00       843
           1       1.00      1.00      1.00       782

    accuracy                           1.00      1625
   macro avg       1.00      1.00      1.00      1625
weighted avg       1.00      1.00      1.00      1625
</pre></div>
</div>
<img alt="_images/cd506a812d2d6c66e28271d6cd52de86e594b023bcc29c17fa04b5c5d7c69664.png" src="_images/cd506a812d2d6c66e28271d6cd52de86e594b023bcc29c17fa04b5c5d7c69664.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model: KNN
Akurasi: 0.9963076923076923
Classification Report:
              precision    recall  f1-score   support

           0       1.00      0.99      1.00       843
           1       0.99      1.00      1.00       782

    accuracy                           1.00      1625
   macro avg       1.00      1.00      1.00      1625
weighted avg       1.00      1.00      1.00      1625
</pre></div>
</div>
<img alt="_images/b38cc0f8b9ad1fe94a2641230254e29494152216edd5ca24672975d92697f4d9.png" src="_images/b38cc0f8b9ad1fe94a2641230254e29494152216edd5ca24672975d92697f4d9.png" />
</div>
</div>
<p>üìå Penjelasan Evaluasi Model:</p>
<ul class="simple">
<li><p>Fungsi evaluate_model:</p></li>
<li><p>Menghitung akurasi.</p></li>
<li><p>Menampilkan classification report (precision, recall, f1-score).</p></li>
<li><p>Menampilkan confusion matrix dalam bentuk heatmap.</p></li>
<li><p>Digunakan untuk ketiga model agar bisa dibandingkan.</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="kesimpulan-analisis">
<h1><strong>8. Kesimpulan Analisis</strong><a class="headerlink" href="#kesimpulan-analisis" title="Link to this heading">#</a></h1>
<p>Berikut adalah kesimpulan dari seluruh proses analisis pada dataset mushroom (jamur) yang dilakukan:</p>
<p><strong>1. Tujuan Proyek</strong></p>
<ul class="simple">
<li><p>Melakukan klasifikasi jenis jamur berdasarkan fitur-fitur fisiknya untuk memprediksi apakah jamur tersebut dapat dimakan (edible) atau beracun (poisonous). Proyek ini berguna untuk membantu identifikasi keamanan konsumsi jamur secara otomatis berdasarkan data pengamatan.</p></li>
</ul>
<p><strong>2. Ringkasan Dataset</strong></p>
<ul>
<li><p>Dataset: Mushroom Dataset dari UCI ML Repository</p>
<p>Jumlah data: 8124 baris</p>
<p>Jumlah fitur: 22 fitur kategorikal + 1 target klasifikasi</p>
<p>Target klasifikasi:</p>
<p>e: edible (dapat dimakan)</p>
<p>p: poisonous (beracun)</p>
</li>
</ul>
<p><strong>3. Tahapan Analisis</strong></p>
<ol class="arabic simple">
<li><p>Data Understanding
Semua fitur berupa kategori (tipe string).</p></li>
</ol>
<p>Ada fitur dengan missing value (stalk-root) yang diatasi dengan imputasi modus.</p>
<p>Distribusi kelas seimbang (sekitar 52% edible, 48% poisonous).</p>
<ol class="arabic simple" start="2">
<li><p>Preprocessing
Label Encoding digunakan untuk mengubah data kategorikal ke numerik.</p></li>
</ol>
<p>Missing value ditangani dengan mengganti nilai ? menggunakan modus.</p>
<p>Data dibagi 80% untuk training dan 20% untuk testing.</p>
<ol class="arabic simple" start="3">
<li><p>Modelling
Tiga algoritma klasifikasi diuji:</p></li>
</ol>
<p>Decision Tree</p>
<p>Random Forest</p>
<p>K-Nearest Neighbors</p>
<ol class="arabic simple" start="4">
<li><p>Evaluasi
Semua model memiliki akurasi sangat tinggi, bahkan mencapai 100% (1.00) pada data testing.</p></li>
</ol>
<p>Confusion matrix menunjukkan bahwa tidak ada kesalahan klasifikasi pada ketiga model, terutama Random Forest dan Decision Tree.</p>
<p>Ini menunjukkan bahwa fitur-fitur yang tersedia sangat informatif dalam membedakan jamur edible dan poisonous.</p>
<ol class="arabic simple" start="5">
<li><p>Model Terbaik: Random Forest</p></li>
</ol>
<ul class="simple">
<li><p>Meskipun semua model memiliki akurasi tinggi, Random Forest dipilih karena:</p></li>
<li><p>Lebih stabil dan andal untuk generalisasi.</p></li>
<li><p>Tidak mudah overfitting karena merupakan ensemble dari banyak pohon keputusan.</p></li>
</ul>
<p>Bisa memberikan feature importance untuk interpretasi.</p>
<ol class="arabic simple" start="6">
<li><p>Insight dari Fitur</p></li>
</ol>
<p>Dari eksperimen, fitur-fitur paling berpengaruh (berdasarkan visualisasi dan model) adalah:</p>
<ul class="simple">
<li><p>odor (bau) ‚Üí fitur paling informatif (misalnya bau ‚Äúfoul‚Äù atau ‚Äúcreosote‚Äù hampir selalu beracun). spore-print-color dan gill-color juga berpengaruh besar.</p></li>
</ul>
<p><strong>9. Generate File Deployment</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Langkah 1: Import Library</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.preprocessing</span><span class="w"> </span><span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">RandomForestClassifier</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">joblib</span>

<span class="c1"># Langkah 2: Load Dataset</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://archive.ics.uci.edu/ml/machine-learning-databases/mushroom/agaricus-lepiota.data&#39;</span>
<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="s1">&#39;cap-shape&#39;</span><span class="p">,</span> <span class="s1">&#39;cap-surface&#39;</span><span class="p">,</span> <span class="s1">&#39;cap-color&#39;</span><span class="p">,</span> <span class="s1">&#39;bruises&#39;</span><span class="p">,</span> <span class="s1">&#39;odor&#39;</span><span class="p">,</span>
           <span class="s1">&#39;gill-attachment&#39;</span><span class="p">,</span> <span class="s1">&#39;gill-spacing&#39;</span><span class="p">,</span> <span class="s1">&#39;gill-size&#39;</span><span class="p">,</span> <span class="s1">&#39;gill-color&#39;</span><span class="p">,</span>
           <span class="s1">&#39;stalk-shape&#39;</span><span class="p">,</span> <span class="s1">&#39;stalk-root&#39;</span><span class="p">,</span> <span class="s1">&#39;stalk-surface-above-ring&#39;</span><span class="p">,</span>
           <span class="s1">&#39;stalk-surface-below-ring&#39;</span><span class="p">,</span> <span class="s1">&#39;stalk-color-above-ring&#39;</span><span class="p">,</span>
           <span class="s1">&#39;stalk-color-below-ring&#39;</span><span class="p">,</span> <span class="s1">&#39;veil-type&#39;</span><span class="p">,</span> <span class="s1">&#39;veil-color&#39;</span><span class="p">,</span> <span class="s1">&#39;ring-number&#39;</span><span class="p">,</span>
           <span class="s1">&#39;ring-type&#39;</span><span class="p">,</span> <span class="s1">&#39;spore-print-color&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">,</span> <span class="s1">&#39;habitat&#39;</span><span class="p">]</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Langkah 3: Preprocessing</span>
<span class="n">df</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;?&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;stalk-root&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;stalk-root&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mode</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Simpan LabelEncoder per kolom</span>
<span class="n">encoders</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">df_encoded</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
    <span class="n">df_encoded</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col</span><span class="p">])</span>
    <span class="n">encoders</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">le</span>

<span class="c1"># Split data</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_encoded</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Langkah 4: Train Random Forest</span>
<span class="n">rf_model</span> <span class="o">=</span> <span class="n">RandomForestClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">rf_model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Langkah 5: Simpan model dan label encoder</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">rf_model</span><span class="p">,</span> <span class="s1">&#39;mushroom_rf_model.pkl&#39;</span><span class="p">)</span>
<span class="n">joblib</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">encoders</span><span class="p">,</span> <span class="s1">&#39;label_encoders.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/tmp/ipython-input-7-4229359495.py:21: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing &#39;df[col].method(value, inplace=True)&#39;, try using &#39;df.method({col: value}, inplace=True)&#39; or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df[&#39;stalk-root&#39;].fillna(df[&#39;stalk-root&#39;].mode()[0], inplace=True)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;label_encoders.pkl&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">files</span>
<span class="n">files</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;mushroom_rf_model.pkl&#39;</span><span class="p">)</span>
<span class="c1"># files.download(&#39;label_encoders.pkl&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">
    async function download(id, filename, size) {
      if (!google.colab.kernel.accessAllowed) {
        return;
      }
      const div = document.createElement('div');
      const label = document.createElement('label');
      label.textContent = `Downloading "${filename}": `;
      div.appendChild(label);
      const progress = document.createElement('progress');
      progress.max = size;
      div.appendChild(progress);
      document.body.appendChild(div);

      const buffers = [];
      let downloaded = 0;

      const channel = await google.colab.kernel.comms.open(id);
      // Send a message to notify the kernel that we're ready.
      channel.send({})

      for await (const message of channel.messages) {
        // Send a message to notify the kernel that we're ready.
        channel.send({})
        if (message.buffers) {
          for (const buffer of message.buffers) {
            buffers.push(buffer);
            downloaded += buffer.byteLength;
            progress.value = downloaded;
          }
        }
      }
      const blob = new Blob(buffers, {type: 'application/binary'});
      const a = document.createElement('a');
      a.href = window.URL.createObjectURL(blob);
      a.download = filename;
      div.appendChild(a);
      a.click();
      div.remove();
    }
  </script><script type="application/javascript">download("download_f0b776fc-a4f4-4661-93e9-68ec1db0f349", "mushroom_rf_model.pkl", 530521)</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>

<span class="s1">import streamlit as st</span>
<span class="s1">import joblib</span>
<span class="s1">import numpy as np</span>

<span class="s1">st.set_page_config(page_title=&quot;Prediksi Jamur&quot;, page_icon=&quot;üçÑ&quot;, layout=&quot;centered&quot;)</span>

<span class="s1"># Load model</span>
<span class="s1">model = joblib.load(&#39;mushroom_rf_model1.pkl&#39;)</span>

<span class="s1">st.title(&quot;üçÑ Prediksi Jamur: Apakah Beracun atau Dapat Dimakan?&quot;)</span>
<span class="s1">st.markdown(&quot;Masukkan ciri-ciri jamur di bawah ini untuk memprediksi klasifikasinya:&quot;)</span>

<span class="s1"># ===========================</span>
<span class="s1"># Dictionary pilihan fitur</span>
<span class="s1"># ===========================</span>

<span class="s1">cap_shape_options = {</span>
<span class="s1">    &#39;b&#39;: &#39;Bell (b) - Lonceng&#39;,</span>
<span class="s1">    &#39;c&#39;: &#39;Conical (c) - Kerucut&#39;,</span>
<span class="s1">    &#39;x&#39;: &#39;Convex (x) - Cembung&#39;,</span>
<span class="s1">    &#39;f&#39;: &#39;Flat (f) - Datar&#39;,</span>
<span class="s1">    &#39;k&#39;: &#39;Knobbed (k) - Bertonjolan&#39;,</span>
<span class="s1">    &#39;s&#39;: &#39;Sunken (s) - Cekung&#39;</span>
<span class="s1">}</span>

<span class="s1">cap_surface_options = {</span>
<span class="s1">    &#39;f&#39;: &#39;Fibrous (f) - Berserat&#39;,</span>
<span class="s1">    &#39;g&#39;: &#39;Grooves (g) - Beralur&#39;,</span>
<span class="s1">    &#39;y&#39;: &#39;Scaly (y) - Bersisik&#39;,</span>
<span class="s1">    &#39;s&#39;: &#39;Smooth (s) - Halus&#39;</span>
<span class="s1">}</span>

<span class="s1">cap_color_options = {</span>
<span class="s1">    &#39;n&#39;: &#39;Brown (n) - Cokelat&#39;,</span>
<span class="s1">    &#39;b&#39;: &#39;Buff (b) - Krem&#39;,</span>
<span class="s1">    &#39;c&#39;: &#39;Cinnamon (c) - Kayu manis&#39;,</span>
<span class="s1">    &#39;g&#39;: &#39;Gray (g) - Abu-abu&#39;,</span>
<span class="s1">    &#39;r&#39;: &#39;Green (r) - Hijau&#39;,</span>
<span class="s1">    &#39;p&#39;: &#39;Pink (p) - Merah muda&#39;,</span>
<span class="s1">    &#39;u&#39;: &#39;Purple (u) - Ungu&#39;,</span>
<span class="s1">    &#39;e&#39;: &#39;Red (e) - Merah&#39;,</span>
<span class="s1">    &#39;w&#39;: &#39;White (w) - Putih&#39;,</span>
<span class="s1">    &#39;y&#39;: &#39;Yellow (y) - Kuning&#39;</span>
<span class="s1">}</span>

<span class="s1">bruises_options = {</span>
<span class="s1">    &#39;t&#39;: &#39;Yes (t) - Memar&#39;,</span>
<span class="s1">    &#39;f&#39;: &#39;No (f) - Tidak memar&#39;</span>
<span class="s1">}</span>

<span class="s1">odor_options = {</span>
<span class="s1">    &#39;a&#39;: &#39;Almond (a) - Almond&#39;,</span>
<span class="s1">    &#39;l&#39;: &#39;Anise (l) - Adas manis&#39;,</span>
<span class="s1">    &#39;c&#39;: &#39;Creosote (c) - Bau tar&#39;,</span>
<span class="s1">    &#39;y&#39;: &#39;Fishy (y) - Amis&#39;,</span>
<span class="s1">    &#39;f&#39;: &#39;Foul (f) - Busuk&#39;,</span>
<span class="s1">    &#39;m&#39;: &#39;Musty (m) - Apak&#39;,</span>
<span class="s1">    &#39;n&#39;: &#39;None (n) - Tidak ada&#39;,</span>
<span class="s1">    &#39;p&#39;: &#39;Pungent (p) - Menyengat&#39;,</span>
<span class="s1">    &#39;s&#39;: &#39;Spicy (s) - Pedas&#39;</span>
<span class="s1">}</span>

<span class="s1"># ===========================</span>
<span class="s1"># Input dari user</span>
<span class="s1"># ===========================</span>

<span class="s1">cap_shape = st.selectbox(&quot;Bentuk Topi Jamur (cap-shape)&quot;, list(cap_shape_options.values()))</span>
<span class="s1">cap_surface = st.selectbox(&quot;Permukaan Topi Jamur (cap-surface)&quot;, list(cap_surface_options.values()))</span>
<span class="s1">cap_color = st.selectbox(&quot;Warna Topi Jamur (cap-color)&quot;, list(cap_color_options.values()))</span>
<span class="s1">bruises = st.selectbox(&quot;Apakah Jamur Memar? (bruises)&quot;, list(bruises_options.values()))</span>
<span class="s1">odor = st.selectbox(&quot;Bau Jamur (odor)&quot;, list(odor_options.values()))</span>

<span class="s1"># ===========================</span>
<span class="s1"># Konversi ke kode</span>
<span class="s1"># ===========================</span>

<span class="s1">def get_key(d, value):</span>
<span class="s1">    return [k for k, v in d.items() if v == value][0]</span>

<span class="s1">data_input = [</span>
<span class="s1">    get_key(cap_shape_options, cap_shape),</span>
<span class="s1">    get_key(cap_surface_options, cap_surface),</span>
<span class="s1">    get_key(cap_color_options, cap_color),</span>
<span class="s1">    get_key(bruises_options, bruises),</span>
<span class="s1">    get_key(odor_options, odor)</span>
<span class="s1">]</span>

<span class="s1"># Buat array lengkap (22 kolom) - kita isi dummy untuk yang tidak digunakan</span>
<span class="s1"># Posisi kolom berdasarkan urutan asli dataset (drop class)</span>
<span class="s1"># 0: cap-shape, 1: cap-surface, 2: cap-color, 3: bruises, 4: odor</span>
<span class="s1"># isi lainnya default &#39;x&#39; (nanti akan di-labelencode ke nilai tetap saat training)</span>

<span class="s1">dummy_input = [&#39;x&#39;] * 22</span>
<span class="s1">dummy_input[0] = data_input[0]</span>
<span class="s1">dummy_input[1] = data_input[1]</span>
<span class="s1">dummy_input[2] = data_input[2]</span>
<span class="s1">dummy_input[3] = data_input[3]</span>
<span class="s1">dummy_input[4] = data_input[4]</span>

<span class="s1"># Gunakan LabelEncoder yang sudah dilatih</span>
<span class="s1">le = joblib.load(&#39;label_encoder.pkl&#39;)</span>
<span class="s1">encoded_input = le.transform(dummy_input).reshape(1, -1)</span>

<span class="s1"># ===========================</span>
<span class="s1"># Prediksi</span>
<span class="s1"># ===========================</span>

<span class="s1">if st.button(&quot;üîç Prediksi Jamur&quot;):</span>
<span class="s1">    pred = model.predict(encoded_input)[0]</span>

<span class="s1">    if pred == 0:</span>
<span class="s1">        st.success(&quot;‚úÖ Hasil: **Jamur ini dapat dimakan (Edible)**&quot;)</span>
<span class="s1">    else:</span>
<span class="s1">        st.error(&quot;‚ö†Ô∏è Hasil: **Jamur ini beracun (Poisonous)**&quot;)</span>
<span class="s1">&#39;&#39;&#39;</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;app.py&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">requirements</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">streamlit</span>
<span class="s2">pandas</span>
<span class="s2">scikit-learn</span>
<span class="s2">joblib</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="c1"># Simpan ke file</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;requirements.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">requirements</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">google.colab</span><span class="w"> </span><span class="kn">import</span> <span class="n">files</span>

<span class="c1"># Download file</span>
<span class="n">files</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;app.py&quot;</span><span class="p">)</span>
<span class="c1"># files.download(&quot;requirements.txt&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/javascript">
    async function download(id, filename, size) {
      if (!google.colab.kernel.accessAllowed) {
        return;
      }
      const div = document.createElement('div');
      const label = document.createElement('label');
      label.textContent = `Downloading "${filename}": `;
      div.appendChild(label);
      const progress = document.createElement('progress');
      progress.max = size;
      div.appendChild(progress);
      document.body.appendChild(div);

      const buffers = [];
      let downloaded = 0;

      const channel = await google.colab.kernel.comms.open(id);
      // Send a message to notify the kernel that we're ready.
      channel.send({})

      for await (const message of channel.messages) {
        // Send a message to notify the kernel that we're ready.
        channel.send({})
        if (message.buffers) {
          for (const buffer of message.buffers) {
            buffers.push(buffer);
            downloaded += buffer.byteLength;
            progress.value = downloaded;
          }
        }
      }
      const blob = new Blob(buffers, {type: 'application/binary'});
      const a = document.createElement('a');
      a.href = window.URL.createObjectURL(blob);
      a.download = filename;
      div.appendChild(a);
      a.click();
      div.remove();
    }
  </script><script type="application/javascript">download("download_dcfe061d-fbbb-48a0-b7b8-713847f4dc93", "app.py", 3381)</script></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="hasil-deployment">
<h1><strong>9. Hasil Deployment</strong><a class="headerlink" href="#hasil-deployment" title="Link to this heading">#</a></h1>
<p>üåê Berikut ini adalah link deploy :</p>
<p><a class="reference external" href="https://mushroom-app-pendata26.streamlit.app/">https://mushroom-app-pendata26.streamlit.app/</a></p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tugas_pra_uas.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>PRA UAS Penambangan Data</strong></p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#"><strong>üìù UAS Penambangan Data - Analisis pada dataset Mushroom (Jamur)</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#dataset"><strong>1. Dataset</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#import-library"><strong>2. Import Library</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#load-dataset"><strong>3. Load Dataset</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#data-understanding"><strong>4. Data Understanding</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-persiapan-data"><strong>5. Preprocessing (Persiapan Data)</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#modelling-pembuatan-model"><strong>6. Modelling (Pembuatan Model)</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#evaluasi-model"><strong>7. Evaluasi Model</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kesimpulan-analisis"><strong>8. Kesimpulan Analisis</strong></a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#hasil-deployment"><strong>9. Hasil Deployment</strong></a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Muhammad Hanif
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>